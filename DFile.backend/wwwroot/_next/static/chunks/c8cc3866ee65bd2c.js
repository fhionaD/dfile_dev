(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,96705,e=>{"use strict";var t=e.i(38218),s=e.i(39634),r=e.i(44183),a=e.i(884);let i=(0,s.cva)("inline-flex items-center justify-center rounded-full border border-transparent px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border-border text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",ghost:"[a&]:hover:bg-accent [a&]:hover:text-accent-foreground",link:"text-primary underline-offset-4 [a&]:hover:underline"}},defaultVariants:{variant:"default"}});function o({className:e,variant:s="default",asChild:o=!1,...l}){let n=o?r.Slot.Root:"span";return(0,t.jsx)(n,{"data-slot":"badge","data-variant":s,className:(0,a.cn)(i({variant:s}),e),...l})}e.s(["Badge",()=>o])},29331,e=>{"use strict";let t=(0,e.i(55663).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],29331)},43919,e=>{"use strict";let t=(0,e.i(55663).default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);e.s(["Package",()=>t],43919)},76044,e=>{"use strict";var t=e.i(7662),s=e.i(90105),r=e.i(24972),a=e.i(51305),i=e.i(63370);function o(e){return(0,t.useQuery)({queryKey:["assets",e??"all"],queryFn:async()=>{let t={};void 0!==e&&(t.showArchived=e);let{data:s}=await a.default.get("/api/assets",{params:t});return s}})}function l(){let e=(0,r.useQueryClient)();return(0,s.useMutation)({mutationFn:async e=>{let{data:t}=await a.default.post("/api/assets",e);return t},onSuccess:()=>{e.invalidateQueries({queryKey:["assets"]}),i.toast.success("Asset added successfully")},onError:e=>{console.error("Failed to add asset:",e),i.toast.error("Failed to add asset")}})}function n(){let e=(0,r.useQueryClient)();return(0,s.useMutation)({mutationFn:async e=>{let{data:t}=await a.default.put(`/api/assets/${e.id}`,e);return e},onSuccess:(t,s)=>{e.invalidateQueries({queryKey:["assets"]}),e.invalidateQueries({queryKey:["assets",s.id]}),i.toast.success("Asset updated successfully")},onError:e=>{console.error("Failed to update asset:",e),i.toast.error("Failed to update asset")}})}function d(){let e=(0,r.useQueryClient)();return(0,s.useMutation)({mutationFn:async e=>{await a.default.put(`/api/assets/archive/${e}`)},onSuccess:()=>{e.invalidateQueries({queryKey:["assets"]}),i.toast.success("Asset archived successfully")},onError:e=>{console.error("Failed to archive asset:",e),i.toast.error("Failed to archive asset")}})}function c(){let e=(0,r.useQueryClient)();return(0,s.useMutation)({mutationFn:async e=>{await a.default.put(`/api/assets/restore/${e}`)},onSuccess:()=>{e.invalidateQueries({queryKey:["assets"]}),i.toast.success("Asset restored successfully")},onError:e=>{console.error("Failed to restore asset:",e),i.toast.error("Failed to restore asset")}})}function u(){let e=(0,r.useQueryClient)();return(0,s.useMutation)({mutationFn:async({id:e,roomId:t})=>{let{data:s}=await a.default.put(`/api/assets/${e}`,{room:t}),{data:r}=await a.default.get(`/api/assets/${e}`);return await a.default.put(`/api/assets/${e}`,{...r,room:t}),{...r,room:t}},onSuccess:()=>{e.invalidateQueries({queryKey:["assets"]}),i.toast.success("Asset allocated successfully")},onError:e=>{console.error("Failed to allocate asset:",e),i.toast.error("Failed to allocate asset")}})}e.s(["useAddAsset",()=>l,"useAllocateAsset",()=>u,"useArchiveAsset",()=>d,"useAssets",()=>o,"useRestoreAsset",()=>c,"useUpdateAsset",()=>n])},89413,e=>{"use strict";let t=(0,e.i(55663).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],89413)},71827,e=>{"use strict";var t=e.i(7662),s=e.i(90105),r=e.i(24972),a=e.i(51305),i=e.i(63370);function o(){return(0,t.useQuery)({queryKey:["rooms"],queryFn:async()=>{let{data:e}=await a.default.get("/api/Rooms");return e}})}function l(){return(0,t.useQuery)({queryKey:["room-categories","all"],queryFn:async()=>{let{data:e}=await a.default.get("/api/RoomCategories?includeArchived=true");return e}})}function n(){let e=(0,r.useQueryClient)();return(0,s.useMutation)({mutationFn:async e=>{let{data:t}=await a.default.post("/api/Rooms",e);return t},onSuccess:()=>{e.invalidateQueries({queryKey:["rooms"]}),i.toast.success("Room added successfully")},onError:e=>{console.error("Failed to add room:",e),i.toast.error("Failed to add room")}})}function d(){let e=(0,r.useQueryClient)();return(0,s.useMutation)({mutationFn:async e=>{let{data:t}=await a.default.put(`/api/Rooms/${e.id}`,e);return t},onSuccess:()=>{e.invalidateQueries({queryKey:["rooms"]}),i.toast.success("Room updated successfully")},onError:e=>{console.error("Failed to update room:",e),i.toast.error("Failed to update room")}})}function c(){let e=(0,r.useQueryClient)();return(0,s.useMutation)({mutationFn:async e=>{let t={...e,archived:!e.archived,status:e.archived?"Available":"Deactivated"},{data:s}=await a.default.put(`/api/Rooms/${e.id}`,t);return s},onSuccess:()=>{e.invalidateQueries({queryKey:["rooms"]}),i.toast.success("Room archive status updated")},onError:e=>{console.error("Failed to update room archive status:",e),i.toast.error("Failed to update room archive status")}})}function u(){let e=(0,r.useQueryClient)();return(0,s.useMutation)({mutationFn:async e=>{let{data:t}=await a.default.post("/api/RoomCategories",e);return t},onSuccess:()=>{e.invalidateQueries({queryKey:["room-categories"]}),i.toast.success("Room category added")},onError:e=>{console.error("Failed to add room category:",e),i.toast.error("Failed to add room category")}})}function m(){let e=(0,r.useQueryClient)();return(0,s.useMutation)({mutationFn:async e=>{let{data:t}=await a.default.put(`/api/RoomCategories/${e.id}`,e);return t},onSuccess:()=>{e.invalidateQueries({queryKey:["room-categories"]}),i.toast.success("Room category updated")},onError:e=>{console.error("Failed to update room category:",e),i.toast.error("Failed to update room category")}})}function x(){let e=(0,r.useQueryClient)();return(0,s.useMutation)({mutationFn:async e=>{let t={...e,archived:!e.archived,status:e.archived?"Active":"Archived"},{data:s}=await a.default.put(`/api/RoomCategories/${e.id}`,t);return s},onSuccess:()=>{e.invalidateQueries({queryKey:["room-categories"]}),i.toast.success("Room category archive status updated")},onError:e=>{console.error("Failed to update room category archive status:",e),i.toast.error("Failed to update room category archive status")}})}e.s(["useAddRoom",()=>n,"useAddRoomCategory",()=>u,"useArchiveRoom",()=>c,"useArchiveRoomCategory",()=>x,"useRoomCategories",()=>l,"useRooms",()=>o,"useUpdateRoom",()=>d,"useUpdateRoomCategory",()=>m])},31974,e=>{"use strict";var t=e.i(38218),s=e.i(72894),r=e.i(39331);let a=(0,e.i(55663).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var i=e.i(89413),o=e.i(75948),l=e.i(43919),n=e.i(29331),d=e.i(23181),c=e.i(82040),u=e.i(96705),m=e.i(79680),x=e.i(13625);function h({assets:e,rooms:h,onAllocate:f}){let[g,p]=(0,s.useState)(null),[v,y]=(0,s.useState)(null),[b,j]=(0,s.useState)(""),[w,N]=(0,s.useState)("all"),[C,A]=(0,s.useState)("All Time"),[S,F]=(0,s.useState)(""),k=e.filter(e=>{if("Available"!==e.status||!(e.desc.toLowerCase().includes(b.toLowerCase())||e.id.toLowerCase().includes(b.toLowerCase()))||"all"!==w&&e.cat!==w)return!1;if("All Time"!==C){if(!e.purchaseDate)return!1;let t=new Date(e.purchaseDate),s=new Date;if("This Month"===C&&(t.getMonth()!==s.getMonth()||t.getFullYear()!==s.getFullYear())||"This Year"===C&&t.getFullYear()!==s.getFullYear())return!1}return!0}),R=h.filter(e=>e.unitId.toLowerCase().includes(S.toLowerCase())||e.floor.toString().includes(S)),Q=Array.from(new Set(e.map(e=>e.cat))),M=e.find(e=>e.id===g);return(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8 lg:h-[calc(100vh-12rem)]",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 flex flex-col h-full gap-4",children:[(0,t.jsx)("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center bg-background p-1 rounded-lg",children:(0,t.jsxs)("div",{className:"flex flex-1 gap-2 w-full sm:w-auto",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(r.Search,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(d.Input,{placeholder:"Search by name or ID...",className:"pl-9 h-10 bg-background text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:b,onChange:e=>j(e.target.value)})]}),(0,t.jsxs)(x.Select,{value:w,onValueChange:N,children:[(0,t.jsx)(x.SelectTrigger,{className:"w-[180px] h-10 bg-background text-sm",children:(0,t.jsx)(x.SelectValue,{placeholder:"Category"})}),(0,t.jsxs)(x.SelectContent,{children:[(0,t.jsx)(x.SelectItem,{value:"all",children:"All Categories"}),Q.map(e=>(0,t.jsx)(x.SelectItem,{value:e,children:e},e))]})]}),(0,t.jsxs)(x.Select,{value:C,onValueChange:A,children:[(0,t.jsxs)(x.SelectTrigger,{className:"w-[180px] h-10 bg-background text-sm",children:[(0,t.jsx)(n.Calendar,{className:"w-4 h-4 mr-2 text-muted-foreground"}),(0,t.jsx)(x.SelectValue,{placeholder:"Period"})]}),(0,t.jsxs)(x.SelectContent,{children:[(0,t.jsx)(x.SelectItem,{value:"All Time",children:"All Time"}),(0,t.jsx)(x.SelectItem,{value:"This Month",children:"This Month"}),(0,t.jsx)(x.SelectItem,{value:"This Year",children:"This Year"})]})]})]})}),(0,t.jsxs)(m.Card,{className:"flex-1 flex flex-col border-border/50 shadow-sm",children:[(0,t.jsx)(m.CardHeader,{className:"p-6 border-b border-border/50 bg-muted/40 uppercase tracking-wider",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-primary/10 rounded-lg text-primary",children:(0,t.jsx)(l.Package,{size:18})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(m.CardTitle,{className:"text-lg font-semibold text-foreground",children:"Asset Inventory"}),(0,t.jsx)(m.CardDescription,{className:"text-xs text-muted-foreground",children:"Select an available asset"})]})]}),(0,t.jsxs)(u.Badge,{variant:"outline",className:"bg-background",children:[k.length," Available"]})]})}),(0,t.jsx)(m.CardContent,{className:"flex-1 overflow-y-auto p-0",children:0===k.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-48 text-muted-foreground",children:[(0,t.jsx)(l.Package,{className:"h-10 w-10 mb-2 opacity-20"}),(0,t.jsx)("p",{className:"text-sm",children:"No available assets found"})]}):(0,t.jsx)("div",{className:"divide-y divide-border/50",children:k.map(e=>(0,t.jsxs)("div",{onClick:()=>p(e.id),className:`p-4 flex items-center justify-between cursor-pointer transition-colors hover:bg-muted/30 ${g===e.id?"bg-primary/5 border-l-4 border-primary":"border-l-4 border-transparent"}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"h-10 w-10 rounded-lg bg-muted flex items-center justify-center",children:e.image?(0,t.jsx)("img",{src:e.image,alt:"",className:"h-full w-full object-cover rounded-lg"}):(0,t.jsx)(l.Package,{size:18,className:"text-muted-foreground"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-sm text-foreground",children:e.desc}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,t.jsx)("span",{className:"text-xs font-mono text-muted-foreground bg-muted px-1.5 rounded",children:e.id}),(0,t.jsxs)("span",{className:"text-xs text-muted-foreground",children:["• ",e.cat]})]})]})]}),g===e.id&&(0,t.jsx)(i.CheckCircle2,{className:"text-primary h-5 w-5"})]},e.id))})})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-6 h-full",children:[(0,t.jsxs)(m.Card,{className:"flex-1 border-border/50 shadow-sm flex flex-col",children:[(0,t.jsxs)(m.CardHeader,{className:"p-6 border-b border-border/50 bg-muted/40",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("div",{className:"p-2 bg-primary/10 rounded-lg text-primary",children:(0,t.jsx)(o.Building2,{size:18})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(m.CardTitle,{className:"text-lg font-semibold text-foreground",children:"Target Location"}),(0,t.jsx)(m.CardDescription,{className:"text-xs text-muted-foreground",children:"Select destination room unit"})]})]}),(0,t.jsxs)("div",{className:"relative mt-2",children:[(0,t.jsx)(r.Search,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(d.Input,{placeholder:"Search room...",className:"pl-9 h-10 bg-background text-sm",value:S,onChange:e=>F(e.target.value)})]})]}),(0,t.jsx)(m.CardContent,{className:"p-4 flex-1 overflow-y-auto",children:(0,t.jsx)("div",{className:"space-y-2",children:R.map(e=>(0,t.jsx)("div",{onClick:()=>y(e.unitId),className:`p-3  border cursor-pointer transition-all ${v===e.unitId?"border-primary bg-primary/5 ring-1 ring-primary":"border-border hover:border-primary/50"}`,children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"h-8 w-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center",children:(0,t.jsx)(o.Building2,{size:14})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-sm",children:e.unitId}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e.floor})]})]}),v===e.unitId&&(0,t.jsx)("div",{className:"h-2 w-2 rounded-full bg-primary"})]})},e.id))})})]}),(0,t.jsx)(m.Card,{className:"border-border/50 shadow-sm bg-muted/20",children:(0,t.jsxs)(m.CardContent,{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Selected Asset:"}),(0,t.jsx)("span",{className:"font-medium truncate max-w-[150px]",children:M?.desc||"—"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Target Room:"}),(0,t.jsx)("span",{className:"font-medium",children:v||"—"})]}),(0,t.jsx)("div",{className:"pt-2",children:(0,t.jsxs)(c.Button,{className:"w-full ",size:"lg",disabled:!g||!v,onClick:()=>{g&&v&&(f(g,v),p(null),y(null))},children:["Confirm Allocation ",(0,t.jsx)(a,{className:"ml-2 h-4 w-4"})]})})]})})]})]})}var f=e.i(76044),g=e.i(71827);function p(){let{data:e=[]}=(0,f.useAssets)(),{data:s=[]}=(0,g.useRooms)(),r=(0,f.useAllocateAsset)(),a=e.filter(e=>"Archived"!==e.status);return(0,t.jsx)(h,{assets:a,rooms:s,onAllocate:async(e,t)=>{await r.mutateAsync({id:e,roomId:t})}})}e.s(["default",()=>p],31974)}]);