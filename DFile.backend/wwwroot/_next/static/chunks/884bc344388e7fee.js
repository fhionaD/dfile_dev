(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,89413,e=>{"use strict";let s=(0,e.i(55663).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>s],89413)},54217,e=>{"use strict";let s=(0,e.i(55663).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>s],54217)},8556,12961,e=>{"use strict";let s=(0,e.i(55663).default)("philippine-peso",[["path",{d:"M20 11H4",key:"6ut86h"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"M7 21V4a1 1 0 0 1 1-1h4a1 1 0 0 1 0 12H7",key:"1ana5r"}]]);e.s(["PhilippinePeso",()=>s],8556);var t=e.i(38218),l=e.i(884);function r({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"skeleton",className:(0,l.cn)("bg-accent animate-pulse rounded-md",e),...s})}e.s(["Skeleton",()=>r],12961)},31236,e=>{"use strict";var s=e.i(38218),t=e.i(72894),l=e.i(63373),r=e.i(54217),a=e.i(89413),d=e.i(94909),i=e.i(43919),n=e.i(71161),c=e.i(59971),o=e.i(39331),x=e.i(73175),m=e.i(29331),u=e.i(8556),h=e.i(79680),g=e.i(70842),f=e.i(96705),j=e.i(82040),p=e.i(23181),b=e.i(13625),v=e.i(32826),N=e.i(12961);function y({onNewOrder:e,onOrderClick:y}){let{data:C=[],isLoading:T}=(0,v.usePurchaseOrders)(),S=(0,v.useArchiveOrder)(),[w,k]=(0,t.useState)(!1),[A,P]=(0,t.useState)(""),[D,B]=(0,t.useState)("All"),[M,z]=(0,t.useState)("All Time"),L=C.filter(e=>{if(!!e.archived!==w)return!1;let s=A.toLowerCase();if(!(e.id.toLowerCase().includes(s)||e.assetName.toLowerCase().includes(s)||e.vendor&&e.vendor.toLowerCase().includes(s))||"All"!==D&&e.status!==D)return!1;if("All Time"!==M){let s=e.purchaseDate||e.createdAt;if(!s)return!1;let t=new Date(s),l=new Date;if("This Month"===M)return t.getMonth()===l.getMonth()&&t.getFullYear()===l.getFullYear();if("Last Month"===M){let e=new Date(l.getFullYear(),l.getMonth()-1,1);return t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}if("This Year"===M)return t.getFullYear()===l.getFullYear()}return!0}),I=C.filter(e=>!e.archived),H=C.filter(e=>e.archived),Y=C.length,F=C.filter(e=>"Pending"===e.status).length,O=C.filter(e=>"Approved"===e.status||"Delivered"===e.status).length,R=C.reduce((e,s)=>e+s.purchasePrice,0),V=[{label:"Total Orders",value:Y.toString(),icon:l.ShoppingCart,iconBg:"bg-primary/10",iconText:"text-primary",valueColor:"text-primary"},{label:"Pending Approval",value:F.toString(),icon:r.Clock,iconBg:"bg-amber-500/10",iconText:"text-amber-600",valueColor:"text-amber-600"},{label:"Approved / Delivered",value:O.toString(),icon:a.CheckCircle2,iconBg:"bg-emerald-500/10",iconText:"text-emerald-600",valueColor:"text-emerald-600"},{label:"Total Spend",value:`₱${R.toLocaleString()}`,icon:u.PhilippinePeso,iconBg:"bg-blue-500/10",iconText:"text-blue-600",valueColor:"text-blue-600"}];return T?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[void 0,void 0,void 0,void 0].map((e,t)=>(0,s.jsx)("div",{className:"bg-card rounded-xl border border-border p-4 shadow-sm h-24",children:(0,s.jsx)(N.Skeleton,{className:"h-full w-full"})},t))}),(0,s.jsxs)("div",{className:"rounded-xl border border-border p-6 space-y-4",children:[(0,s.jsx)(N.Skeleton,{className:"h-8 w-full mb-4"}),(0,s.jsx)("div",{className:"space-y-2",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,s.jsx)(N.Skeleton,{className:"h-12 w-full"},t))})]})]}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:V.map((e,t)=>(0,s.jsxs)("div",{className:"bg-card rounded-xl border border-border p-4 shadow-sm flex items-center justify-between",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:e.label}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("h3",{className:`text-2xl font-bold ${e.valueColor}`,children:e.value}),(0,s.jsx)("div",{className:`h-10 w-10 rounded-full ${e.iconBg} flex items-center justify-center ${e.iconText}`,children:(0,s.jsx)(e.icon,{size:20})})]})]},t))}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center bg-background p-1 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex flex-1 gap-2 w-full sm:w-auto",children:[(0,s.jsxs)("div",{className:"relative flex-1 max-w-sm",children:[(0,s.jsx)(o.Search,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,s.jsx)(p.Input,{placeholder:"Search orders...",value:A,onChange:e=>P(e.target.value),className:"pl-9 h-10 bg-background text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),(0,s.jsxs)(b.Select,{value:D,onValueChange:B,children:[(0,s.jsxs)(b.SelectTrigger,{className:"w-[180px] h-10 bg-background text-sm",children:[(0,s.jsx)(x.Filter,{className:"w-4 h-4 mr-2 text-muted-foreground"}),(0,s.jsx)(b.SelectValue,{placeholder:"Status"})]}),(0,s.jsxs)(b.SelectContent,{children:[(0,s.jsx)(b.SelectItem,{value:"All",children:"All Status"}),(0,s.jsx)(b.SelectItem,{value:"Pending",children:"Pending"}),(0,s.jsx)(b.SelectItem,{value:"Approved",children:"Approved"}),(0,s.jsx)(b.SelectItem,{value:"Ordered",children:"Ordered"}),(0,s.jsx)(b.SelectItem,{value:"Delivered",children:"Delivered"}),(0,s.jsx)(b.SelectItem,{value:"Cancelled",children:"Cancelled"})]})]}),(0,s.jsxs)(b.Select,{value:M,onValueChange:z,children:[(0,s.jsxs)(b.SelectTrigger,{className:"w-[180px] h-10 bg-background text-sm",children:[(0,s.jsx)(m.Calendar,{className:"w-4 h-4 mr-2 text-muted-foreground"}),(0,s.jsx)(b.SelectValue,{placeholder:"Period"})]}),(0,s.jsxs)(b.SelectContent,{children:[(0,s.jsx)(b.SelectItem,{value:"All Time",children:"All Time"}),(0,s.jsx)(b.SelectItem,{value:"This Month",children:"This Month"}),(0,s.jsx)(b.SelectItem,{value:"Last Month",children:"Last Month"}),(0,s.jsx)(b.SelectItem,{value:"This Year",children:"This Year"})]})]})]}),(0,s.jsxs)("div",{className:"flex gap-2 w-full sm:w-auto justify-end",children:[(0,s.jsx)(j.Button,{variant:w?"default":"outline",size:"sm",className:"h-10 text-sm",onClick:()=>k(!w),children:w?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.RotateCcw,{size:16,className:"mr-2"}),"Active (",I.length,")"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.Archive,{size:16,className:"mr-2"}),"Archived (",H.length,")"]})}),(0,s.jsxs)(j.Button,{onClick:e,size:"sm",className:"h-10 text-sm bg-primary text-primary-foreground shadow-sm",children:[(0,s.jsx)(d.Plus,{size:16,className:"mr-2"}),"New Order"]})]})]}),(0,s.jsx)(h.Card,{className:"border-border shadow-sm rounded-xl overflow-hidden",children:(0,s.jsxs)(h.CardContent,{className:"p-0",children:[(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)(g.Table,{children:[(0,s.jsx)(g.TableHeader,{className:"bg-muted/50",children:(0,s.jsxs)(g.TableRow,{className:"hover:bg-muted/50 border-border",children:[(0,s.jsx)(g.TableHead,{className:"h-10 px-4 text-left align-middle font-medium text-muted-foreground",children:"Order ID"}),(0,s.jsx)(g.TableHead,{className:"h-10 px-4 text-left align-middle font-medium text-muted-foreground",children:"Asset"}),(0,s.jsx)(g.TableHead,{className:"h-10 px-4 text-left align-middle font-medium text-muted-foreground",children:"Category"}),(0,s.jsx)(g.TableHead,{className:"h-10 px-4 text-left align-middle font-medium text-muted-foreground",children:"Vendor"}),(0,s.jsx)(g.TableHead,{className:"h-10 px-4 text-left align-middle font-medium text-muted-foreground",children:"Price"}),(0,s.jsx)(g.TableHead,{className:"h-10 px-4 text-left align-middle font-medium text-muted-foreground",children:"Purchase Date"}),(0,s.jsx)(g.TableHead,{className:"h-10 px-4 text-left align-middle font-medium text-muted-foreground",children:"Useful Life"}),(0,s.jsx)(g.TableHead,{className:"h-10 px-4 text-left align-middle font-medium text-muted-foreground",children:"Status"}),(0,s.jsx)(g.TableHead,{className:"h-10 px-4 text-left align-middle font-medium text-muted-foreground",children:"Asset ID"}),(0,s.jsx)(g.TableHead,{className:"h-10 px-4 text-center align-middle font-medium text-muted-foreground",children:w?"Restore":"Archive"})]})}),(0,s.jsx)(g.TableBody,{children:0===L.length?(0,s.jsx)(g.TableRow,{children:(0,s.jsx)(g.TableCell,{colSpan:10,className:"h-32 text-center text-muted-foreground",children:(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,s.jsx)(i.Package,{size:32,className:"mb-2 opacity-30"}),(0,s.jsx)("p",{className:"text-sm",children:"No purchase orders found"}),(0,s.jsx)("p",{className:"text-xs mt-1",children:"Try adjusting your filters"})]})})}):L.map(e=>(0,s.jsxs)(g.TableRow,{className:"border-border hover:bg-muted/5 transition-colors cursor-pointer",onClick:()=>y?.(e),children:[(0,s.jsx)(g.TableCell,{className:"p-4 align-middle font-mono text-xs text-muted-foreground text-left",children:e.id}),(0,s.jsx)(g.TableCell,{className:"p-4 align-middle text-left",children:(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-foreground",children:e.assetName}),e.manufacturer&&(0,s.jsxs)("span",{className:"text-[10px] text-muted-foreground",children:[e.manufacturer," ",e.model]})]})}),(0,s.jsx)(g.TableCell,{className:"p-4 align-middle text-left",children:(0,s.jsx)(f.Badge,{variant:"outline",className:"text-[10px] h-5 inline-flex",children:e.category})}),(0,s.jsx)(g.TableCell,{className:"p-4 align-middle text-sm text-foreground text-left",children:e.vendor||"—"}),(0,s.jsxs)(g.TableCell,{className:"p-4 align-middle text-left text-sm font-medium",children:["₱",e.purchasePrice.toLocaleString()]}),(0,s.jsx)(g.TableCell,{className:"p-4 align-middle text-left text-sm text-muted-foreground",children:e.purchaseDate}),(0,s.jsxs)(g.TableCell,{className:"p-4 align-middle text-left text-sm text-muted-foreground",children:[e.usefulLifeYears," yrs"]}),(0,s.jsx)(g.TableCell,{className:"p-4 align-middle text-left",children:(0,s.jsx)(f.Badge,{variant:"outline",className:`text-[10px] border-0 px-2 py-0.5 font-medium rounded-none bg-transparent inline-flex ${"Approved"===e.status?"text-blue-700":"Delivered"===e.status?"text-emerald-700":"Pending"===e.status?"text-amber-700":"text-red-700"}`,children:e.status})}),(0,s.jsx)(g.TableCell,{className:"p-4 align-middle text-left font-mono text-xs text-muted-foreground",children:e.assetId||"—"}),(0,s.jsx)(g.TableCell,{className:"p-4 align-middle text-center",children:(0,s.jsx)("div",{className:"flex items-center justify-center",children:(0,s.jsx)(j.Button,{variant:"ghost",size:"icon",onClick:s=>{s.stopPropagation(),S.mutate(e.id)},className:`h-7 w-7 rounded-md transition-colors ${e.archived?"text-primary hover:bg-primary/10":"text-muted-foreground hover:text-destructive hover:bg-destructive/10"}`,title:e.archived?"Restore":"Archive",children:e.archived?(0,s.jsx)(c.RotateCcw,{size:14}):(0,s.jsx)(n.Archive,{size:14})})})})]},e.id))})]})}),(0,s.jsx)("div",{className:"p-4 border-t border-border bg-muted/5 flex items-center justify-between",children:(0,s.jsxs)("div",{className:"text-xs text-muted-foreground font-medium",children:["Showing ",L.length," orders"]})})]})})]})}e.s(["ProcurementView",()=>y])},1399,e=>{"use strict";var s=e.i(38218),t=e.i(72894),l=e.i(31236),r=e.i(96543),a=e.i(48567),d=e.i(82040),i=e.i(96705),n=e.i(3650),c=e.i(63373),o=e.i(70314),x=e.i(75948),m=e.i(67520),u=e.i(43919),h=e.i(41955);let g={Pending:"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400",Approved:"bg-sky-100 text-sky-800 dark:bg-sky-900/30 dark:text-sky-400",Delivered:"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-400",Cancelled:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"};function f({open:e,onOpenChange:t,order:l}){if(!l)return null;let r=l.usefulLifeYears>0?l.purchasePrice/(12*l.usefulLifeYears):0;return(0,s.jsx)(a.Dialog,{open:e,onOpenChange:t,children:(0,s.jsxs)(a.DialogContent,{className:"max-w-lg rounded-2xl border-border p-0 overflow-hidden flex flex-col max-h-[85vh]",children:[(0,s.jsxs)(a.DialogHeader,{className:"p-6 bg-muted/40 border-b border-border shrink-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"h-12 w-12 rounded-xl bg-primary/10 flex items-center justify-center text-primary",children:(0,s.jsx)(c.ShoppingCart,{size:24})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(a.DialogTitle,{className:"text-lg font-semibold text-foreground",children:l.assetName}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-1.5",children:[(0,s.jsx)(i.Badge,{variant:"secondary",className:"font-mono text-xs",children:l.id}),(0,s.jsx)(i.Badge,{variant:"outline",className:"text-xs",children:l.category}),(0,s.jsx)(i.Badge,{className:`text-xs ${g[l.status]||""}`,children:l.status})]})]})]}),(0,s.jsxs)(a.DialogDescription,{className:"sr-only",children:["Purchase order details for ",l.assetName]})]}),(0,s.jsxs)("div",{className:"p-6 space-y-5 flex-1 overflow-y-auto",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h4",{className:"text-sm font-semibold text-foreground mb-3 flex items-center gap-2",children:[(0,s.jsx)(o.DollarSign,{size:16,className:"text-primary"})," Financial Details"]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm bg-muted/10 p-4 rounded-xl border border-border/50",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Purchase Price"}),(0,s.jsxs)("p",{className:"font-semibold text-lg",children:["$",l.purchasePrice.toLocaleString()]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Monthly Depreciation"}),(0,s.jsxs)("p",{className:"font-medium flex items-center gap-1.5",children:[(0,s.jsx)(h.TrendingDown,{size:12}),"$",r.toFixed(2)]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Useful Life"}),(0,s.jsxs)("p",{className:"font-medium",children:[l.usefulLifeYears," year",1!==l.usefulLifeYears?"s":""]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Purchase Date"}),(0,s.jsx)("p",{className:"font-medium",children:l.purchaseDate})]})]})]}),(0,s.jsx)(n.Separator,{}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h4",{className:"text-sm font-semibold text-foreground mb-3 flex items-center gap-2",children:[(0,s.jsx)(u.Package,{size:16,className:"text-primary"})," Asset & Vendor Info"]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm bg-muted/10 p-4 rounded-xl border border-border/50",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Vendor"}),(0,s.jsxs)("p",{className:"font-medium flex items-center gap-1.5",children:[(0,s.jsx)(x.Building2,{size:12}),l.vendor||"—"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Manufacturer"}),(0,s.jsx)("p",{className:"font-medium",children:l.manufacturer||"—"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Model"}),(0,s.jsx)("p",{className:"font-medium",children:l.model||"—"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Serial Number"}),(0,s.jsx)("p",{className:"font-mono text-xs",children:l.serialNumber||"—"})]})]})]}),(0,s.jsx)(n.Separator,{}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h4",{className:"text-sm font-semibold text-foreground mb-3 flex items-center gap-2",children:[(0,s.jsx)(m.User,{size:16,className:"text-primary"})," Request Details"]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm bg-muted/10 p-4 rounded-xl border border-border/50",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Requested By"}),(0,s.jsx)("p",{className:"font-medium",children:l.requestedBy})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Created At"}),(0,s.jsx)("p",{className:"font-medium",children:l.createdAt})]}),l.assetId&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Linked Asset"}),(0,s.jsx)(i.Badge,{variant:"secondary",className:"font-mono text-xs mt-1",children:l.assetId})]})]})]})]}),(0,s.jsx)(a.DialogFooter,{className:"p-6 bg-muted/40 border-t border-border shrink-0",children:(0,s.jsx)(d.Button,{variant:"outline",onClick:()=>t(!1),className:"rounded-xl",children:"Close"})})]})})}function j(){let[e,a]=(0,t.useState)(!1),[d,i]=(0,t.useState)(null),[n,c]=(0,t.useState)(!1),[o,x]=(0,t.useState)(null);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.ProcurementView,{onNewOrder:()=>a(!0),onOrderClick:e=>{i(e),c(!0)}}),(0,s.jsx)(r.AcquisitionModal,{open:e,onOpenChange:e=>{a(e),e||x(null)},replacementAsset:o},o?`acquisition-${o.id}`:"acquisition"),(0,s.jsx)(f,{open:n,onOpenChange:c,order:d})]})}e.s(["default",()=>j],1399)}]);