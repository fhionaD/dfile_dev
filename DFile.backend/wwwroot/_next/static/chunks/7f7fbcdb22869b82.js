(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,79680,e=>{"use strict";var t=e.i(38218),r=e.i(884);function s({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border shadow-sm",e),...s})}function a({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...s})}function i({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",e),...s})}function o({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",e),...s})}function n({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",e),...s})}e.s(["Card",()=>s,"CardContent",()=>n,"CardDescription",()=>o,"CardHeader",()=>a,"CardTitle",()=>i])},96705,e=>{"use strict";var t=e.i(38218),r=e.i(39634),s=e.i(44183),a=e.i(884);let i=(0,r.cva)("inline-flex items-center justify-center rounded-full border border-transparent px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border-border text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",ghost:"[a&]:hover:bg-accent [a&]:hover:text-accent-foreground",link:"text-primary underline-offset-4 [a&]:hover:underline"}},defaultVariants:{variant:"default"}});function o({className:e,variant:r="default",asChild:o=!1,...n}){let l=o?s.Slot.Root:"span";return(0,t.jsx)(l,{"data-slot":"badge","data-variant":r,className:(0,a.cn)(i({variant:r}),e),...n})}e.s(["Badge",()=>o])},7662,90105,e=>{"use strict";let t;var r=e.i(43555),s=e.i(92638),a=e.i(3541),i=e.i(31750),o=e.i(70725),n=e.i(678),l=e.i(32315),d=class extends i.Subscribable{constructor(e,t){super(),this.options=t,this.#e=e,this.#t=null,this.#r=(0,o.pendingThenable)(),this.bindMethods(),this.setOptions(t)}#e;#s=void 0;#a=void 0;#i=void 0;#o;#n;#r;#t;#l;#d;#c;#u;#h;#m;#x=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#s.addObserver(this),c(this.#s,this.options)?this.#p():this.updateResult(),this.#g())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return u(this.#s,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return u(this.#s,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#f(),this.#b(),this.#s.removeObserver(this)}setOptions(e){let t=this.options,r=this.#s;if(this.options=this.#e.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,n.resolveEnabled)(this.options.enabled,this.#s))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#v(),this.#s.setOptions(this.options),t._defaulted&&!(0,n.shallowEqualObjects)(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#s,observer:this});let s=this.hasListeners();s&&h(this.#s,r,this.options,t)&&this.#p(),this.updateResult(),s&&(this.#s!==r||(0,n.resolveEnabled)(this.options.enabled,this.#s)!==(0,n.resolveEnabled)(t.enabled,this.#s)||(0,n.resolveStaleTime)(this.options.staleTime,this.#s)!==(0,n.resolveStaleTime)(t.staleTime,this.#s))&&this.#y();let a=this.#j();s&&(this.#s!==r||(0,n.resolveEnabled)(this.options.enabled,this.#s)!==(0,n.resolveEnabled)(t.enabled,this.#s)||a!==this.#m)&&this.#N(a)}getOptimisticResult(e){var t,r;let s=this.#e.getQueryCache().build(this.#e,e),a=this.createResult(s,e);return t=this,r=a,(0,n.shallowEqualObjects)(t.getCurrentResult(),r)||(this.#i=a,this.#n=this.options,this.#o=this.#s.state),a}getCurrentResult(){return this.#i}trackResult(e,t){return new Proxy(e,{get:(e,r)=>(this.trackProp(r),t?.(r),"promise"===r&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==this.#r.status||this.#r.reject(Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(e,r))})}trackProp(e){this.#x.add(e)}getCurrentQuery(){return this.#s}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#p({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#p(e){this.#v();let t=this.#s.fetch(this.options,e);return e?.throwOnError||(t=t.catch(n.noop)),t}#y(){this.#f();let e=(0,n.resolveStaleTime)(this.options.staleTime,this.#s);if(n.isServer||this.#i.isStale||!(0,n.isValidTimeout)(e))return;let t=(0,n.timeUntilStale)(this.#i.dataUpdatedAt,e);this.#u=l.timeoutManager.setTimeout(()=>{this.#i.isStale||this.updateResult()},t+1)}#j(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#s):this.options.refetchInterval)??!1}#N(e){this.#b(),this.#m=e,!n.isServer&&!1!==(0,n.resolveEnabled)(this.options.enabled,this.#s)&&(0,n.isValidTimeout)(this.#m)&&0!==this.#m&&(this.#h=l.timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||r.focusManager.isFocused())&&this.#p()},this.#m))}#g(){this.#y(),this.#N(this.#j())}#f(){this.#u&&(l.timeoutManager.clearTimeout(this.#u),this.#u=void 0)}#b(){this.#h&&(l.timeoutManager.clearInterval(this.#h),this.#h=void 0)}createResult(e,t){let r,s=this.#s,i=this.options,l=this.#i,d=this.#o,u=this.#n,x=e!==s?e.state:this.#a,{state:p}=e,g={...p},f=!1;if(t._optimisticResults){let r=this.hasListeners(),o=!r&&c(e,t),n=r&&h(e,s,t,i);(o||n)&&(g={...g,...(0,a.fetchState)(p.data,e.options)}),"isRestoring"===t._optimisticResults&&(g.fetchStatus="idle")}let{error:b,errorUpdatedAt:v,status:y}=g;r=g.data;let j=!1;if(void 0!==t.placeholderData&&void 0===r&&"pending"===y){let e;l?.isPlaceholderData&&t.placeholderData===u?.placeholderData?(e=l.data,j=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#c?.state.data,this.#c):t.placeholderData,void 0!==e&&(y="success",r=(0,n.replaceData)(l?.data,e,t),f=!0)}if(t.select&&void 0!==r&&!j)if(l&&r===d?.data&&t.select===this.#l)r=this.#d;else try{this.#l=t.select,r=t.select(r),r=(0,n.replaceData)(l?.data,r,t),this.#d=r,this.#t=null}catch(e){this.#t=e}this.#t&&(b=this.#t,r=this.#d,v=Date.now(),y="error");let N="fetching"===g.fetchStatus,C="pending"===y,w="error"===y,R=C&&N,k=void 0!==r,S={status:y,fetchStatus:g.fetchStatus,isPending:C,isSuccess:"success"===y,isError:w,isInitialLoading:R,isLoading:R,data:r,dataUpdatedAt:g.dataUpdatedAt,error:b,errorUpdatedAt:v,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>x.dataUpdateCount||g.errorUpdateCount>x.errorUpdateCount,isFetching:N,isRefetching:N&&!C,isLoadingError:w&&!k,isPaused:"paused"===g.fetchStatus,isPlaceholderData:f,isRefetchError:w&&k,isStale:m(e,t),refetch:this.refetch,promise:this.#r,isEnabled:!1!==(0,n.resolveEnabled)(t.enabled,e)};if(this.options.experimental_prefetchInRender){let t=void 0!==S.data,r="error"===S.status&&!t,a=e=>{r?e.reject(S.error):t&&e.resolve(S.data)},i=()=>{a(this.#r=S.promise=(0,o.pendingThenable)())},n=this.#r;switch(n.status){case"pending":e.queryHash===s.queryHash&&a(n);break;case"fulfilled":(r||S.data!==n.value)&&i();break;case"rejected":r&&S.error===n.reason||i()}}return S}updateResult(){let e=this.#i,t=this.createResult(this.#s,this.options);if(this.#o=this.#s.state,this.#n=this.options,void 0!==this.#o.data&&(this.#c=this.#s),(0,n.shallowEqualObjects)(t,e))return;this.#i=t;let r=()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,r="function"==typeof t?t():t;if("all"===r||!r&&!this.#x.size)return!0;let s=new Set(r??this.#x);return this.options.throwOnError&&s.add("error"),Object.keys(this.#i).some(t=>this.#i[t]!==e[t]&&s.has(t))};this.#C({listeners:r()})}#v(){let e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#s)return;let t=this.#s;this.#s=e,this.#a=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#g()}#C(e){s.notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#i)}),this.#e.getQueryCache().notify({query:this.#s,type:"observerResultsUpdated"})})}};function c(e,t){return!1!==(0,n.resolveEnabled)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&u(e,t,t.refetchOnMount)}function u(e,t,r){if(!1!==(0,n.resolveEnabled)(t.enabled,e)&&"static"!==(0,n.resolveStaleTime)(t.staleTime,e)){let s="function"==typeof r?r(e):r;return"always"===s||!1!==s&&m(e,t)}return!1}function h(e,t,r,s){return(e!==t||!1===(0,n.resolveEnabled)(s.enabled,e))&&(!r.suspense||"error"!==e.state.status)&&m(e,r)}function m(e,t){return!1!==(0,n.resolveEnabled)(t.enabled,e)&&e.isStaleByTime((0,n.resolveStaleTime)(t.staleTime,e))}e.i(83158);var x=e.i(72894),p=e.i(24972);e.i(38218);var g=x.createContext((t=!1,{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t})),f=x.createContext(!1);f.Provider;var b=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function v(e,t){return function(e,t,r){let a,i=x.useContext(f),o=x.useContext(g),l=(0,p.useQueryClient)(r),d=l.defaultQueryOptions(e);l.getDefaultOptions().queries?._experimental_beforeQuery?.(d);let c=l.getQueryCache().get(d.queryHash);if(d._optimisticResults=i?"isRestoring":"optimistic",d.suspense){let e=e=>"static"===e?e:Math.max(e??1e3,1e3),t=d.staleTime;d.staleTime="function"==typeof t?(...r)=>e(t(...r)):e(t),"number"==typeof d.gcTime&&(d.gcTime=Math.max(d.gcTime,1e3))}a=c?.state.error&&"function"==typeof d.throwOnError?(0,n.shouldThrowError)(d.throwOnError,[c.state.error,c]):d.throwOnError,(d.suspense||d.experimental_prefetchInRender||a)&&!o.isReset()&&(d.retryOnMount=!1),x.useEffect(()=>{o.clearReset()},[o]);let u=!l.getQueryCache().get(d.queryHash),[h]=x.useState(()=>new t(l,d)),m=h.getOptimisticResult(d),v=!i&&!1!==e.subscribed;if(x.useSyncExternalStore(x.useCallback(e=>{let t=v?h.subscribe(s.notifyManager.batchCalls(e)):n.noop;return h.updateResult(),t},[h,v]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),x.useEffect(()=>{h.setOptions(d)},[d,h]),d?.suspense&&m.isPending)throw b(d,h,o);if((({result:e,errorResetBoundary:t,throwOnError:r,query:s,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(a&&void 0===e.data||(0,n.shouldThrowError)(r,[e.error,s])))({result:m,errorResetBoundary:o,throwOnError:d.throwOnError,query:c,suspense:d.suspense}))throw m.error;if(l.getDefaultOptions().queries?._experimental_afterQuery?.(d,m),d.experimental_prefetchInRender&&!n.isServer&&m.isLoading&&m.isFetching&&!i){let e=u?b(d,h,o):c?.promise;e?.catch(n.noop).finally(()=>{h.updateResult()})}return d.notifyOnChangeProps?m:h.trackResult(m)}(e,d,t)}e.s(["useQuery",()=>v],7662);var y=e.i(22208),j=i,N=class extends j.Subscribable{#e;#i=void 0;#w;#R;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#k()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,n.shallowEqualObjects)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#w,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,n.hashKey)(t.mutationKey)!==(0,n.hashKey)(this.options.mutationKey)?this.reset():this.#w?.state.status==="pending"&&this.#w.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#w?.removeObserver(this)}onMutationUpdate(e){this.#k(),this.#C(e)}getCurrentResult(){return this.#i}reset(){this.#w?.removeObserver(this),this.#w=void 0,this.#k(),this.#C()}mutate(e,t){return this.#R=t,this.#w?.removeObserver(this),this.#w=this.#e.getMutationCache().build(this.#e,this.options),this.#w.addObserver(this),this.#w.execute(e)}#k(){let e=this.#w?.state??(0,y.getDefaultState)();this.#i={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#C(e){s.notifyManager.batch(()=>{if(this.#R&&this.hasListeners()){let t=this.#i.variables,r=this.#i.context,s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#R.onSuccess?.(e.data,t,r,s)}catch(e){Promise.reject(e)}try{this.#R.onSettled?.(e.data,null,t,r,s)}catch(e){Promise.reject(e)}}else if(e?.type==="error"){try{this.#R.onError?.(e.error,t,r,s)}catch(e){Promise.reject(e)}try{this.#R.onSettled?.(void 0,e.error,t,r,s)}catch(e){Promise.reject(e)}}}this.listeners.forEach(e=>{e(this.#i)})})}};function C(e,t){let r=(0,p.useQueryClient)(t),[a]=x.useState(()=>new N(r,e));x.useEffect(()=>{a.setOptions(e)},[a,e]);let i=x.useSyncExternalStore(x.useCallback(e=>a.subscribe(s.notifyManager.batchCalls(e)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),o=x.useCallback((e,t)=>{a.mutate(e,t).catch(n.noop)},[a]);if(i.error&&(0,n.shouldThrowError)(a.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}e.s(["useMutation",()=>C],90105)},70842,e=>{"use strict";var t=e.i(38218),r=e.i(884);function s({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,t.jsx)("table",{"data-slot":"table",className:(0,r.cn)("w-full caption-bottom text-sm",e),...s})})}function a({className:e,...s}){return(0,t.jsx)("thead",{"data-slot":"table-header",className:(0,r.cn)("[&_tr]:border-b",e),...s})}function i({className:e,...s}){return(0,t.jsx)("tbody",{"data-slot":"table-body",className:(0,r.cn)("[&_tr:last-child]:border-0",e),...s})}function o({className:e,...s}){return(0,t.jsx)("tr",{"data-slot":"table-row",className:(0,r.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...s})}function n({className:e,...s}){return(0,t.jsx)("th",{"data-slot":"table-head",className:(0,r.cn)("text-foreground h-10 px-4 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...s})}function l({className:e,...s}){return(0,t.jsx)("td",{"data-slot":"table-cell",className:(0,r.cn)("p-4 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...s})}e.s(["Table",()=>s,"TableBody",()=>i,"TableCell",()=>l,"TableHead",()=>n,"TableHeader",()=>a,"TableRow",()=>o])},71161,59971,e=>{"use strict";var t=e.i(55663);let r=(0,t.default)("archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);e.s(["Archive",()=>r],71161);let s=(0,t.default)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);e.s(["RotateCcw",()=>s],59971)},75526,e=>{"use strict";var t=e.i(38218),r=e.i(72894),s=e.i(32179),a=r.forwardRef((e,r)=>(0,t.jsx)(s.Primitive.label,{...e,ref:r,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));a.displayName="Label",e.s(["Label",()=>a,"Root",()=>a],31277);var i=e.i(31277),i=i,o=e.i(884);function n({className:e,...r}){return(0,t.jsx)(i.Root,{"data-slot":"label",className:(0,o.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...r})}e.s(["Label",()=>n],75526)},48567,e=>{"use strict";var t=e.i(38218),r=e.i(49117),s=e.i(10114),a=e.i(884),i=e.i(82040);function o({...e}){return(0,t.jsx)(s.Dialog.Root,{"data-slot":"dialog",...e})}function n({...e}){return(0,t.jsx)(s.Dialog.Trigger,{"data-slot":"dialog-trigger",...e})}function l({...e}){return(0,t.jsx)(s.Dialog.Portal,{"data-slot":"dialog-portal",...e})}function d({className:e,...r}){return(0,t.jsx)(s.Dialog.Overlay,{"data-slot":"dialog-overlay",className:(0,a.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...r})}function c({className:e,children:i,showCloseButton:o=!0,...n}){return(0,t.jsxs)(l,{"data-slot":"dialog-portal",children:[(0,t.jsx)(d,{}),(0,t.jsxs)(s.Dialog.Content,{"data-slot":"dialog-content",className:(0,a.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 outline-none sm:max-w-lg",e),...n,children:[i,o&&(0,t.jsxs)(s.Dialog.Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,t.jsx)(r.XIcon,{}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function u({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"dialog-header",className:(0,a.cn)("flex flex-col gap-2 text-center sm:text-left",e),...r})}function h({className:e,showCloseButton:r=!1,children:o,...n}){return(0,t.jsxs)("div",{"data-slot":"dialog-footer",className:(0,a.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...n,children:[o,r&&(0,t.jsx)(s.Dialog.Close,{asChild:!0,children:(0,t.jsx)(i.Button,{variant:"outline",children:"Close"})})]})}function m({className:e,...r}){return(0,t.jsx)(s.Dialog.Title,{"data-slot":"dialog-title",className:(0,a.cn)("text-lg leading-none font-semibold",e),...r})}function x({className:e,...r}){return(0,t.jsx)(s.Dialog.Description,{"data-slot":"dialog-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...r})}e.s(["Dialog",()=>o,"DialogContent",()=>c,"DialogDescription",()=>x,"DialogFooter",()=>h,"DialogHeader",()=>u,"DialogTitle",()=>m,"DialogTrigger",()=>n])},94909,e=>{"use strict";let t=(0,e.i(55663).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],94909)},71184,e=>{"use strict";let t=(0,e.i(55663).default)("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);e.s(["Layers",()=>t],71184)},27149,e=>{"use strict";let t=(0,e.i(55663).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["Edit",()=>t],27149)},83502,e=>{"use strict";var t=e.i(38218),r=e.i(884);function s({className:e,...s}){return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,r.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...s})}e.s(["Textarea",()=>s])},19468,e=>{"use strict";let t=(0,e.i(55663).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>t],19468)},79071,e=>{"use strict";let t=(0,e.i(55663).default)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);e.s(["Edit3",()=>t],79071)},71827,e=>{"use strict";var t=e.i(7662),r=e.i(90105),s=e.i(24972),a=e.i(51305),i=e.i(63370);function o(){return(0,t.useQuery)({queryKey:["rooms"],queryFn:async()=>{let{data:e}=await a.default.get("/Rooms");return e}})}function n(){return(0,t.useQuery)({queryKey:["room-categories"],queryFn:async()=>{let{data:e}=await a.default.get("/RoomCategories");return e}})}function l(){let e=(0,s.useQueryClient)();return(0,r.useMutation)({mutationFn:async e=>{let{data:t}=await a.default.post("/Rooms",e);return t},onSuccess:()=>{e.invalidateQueries({queryKey:["rooms"]}),i.toast.success("Room added successfully")},onError:e=>{console.error("Failed to add room:",e),i.toast.error("Failed to add room")}})}function d(){let e=(0,s.useQueryClient)();return(0,r.useMutation)({mutationFn:async e=>{let{data:t}=await a.default.put(`/Rooms/${e.id}`,e);return t},onSuccess:()=>{e.invalidateQueries({queryKey:["rooms"]}),i.toast.success("Room updated successfully")},onError:e=>{console.error("Failed to update room:",e),i.toast.error("Failed to update room")}})}function c(){let e=(0,s.useQueryClient)();return(0,r.useMutation)({mutationFn:async e=>{let t={...e,archived:!e.archived,status:e.archived?"Available":"Deactivated"},{data:r}=await a.default.put(`/Rooms/${e.id}`,t);return r},onSuccess:()=>{e.invalidateQueries({queryKey:["rooms"]}),i.toast.success("Room archive status updated")},onError:e=>{console.error("Failed to update room archive status:",e),i.toast.error("Failed to update room archive status")}})}function u(){let e=(0,s.useQueryClient)();return(0,r.useMutation)({mutationFn:async e=>{let{data:t}=await a.default.post("/RoomCategories",e);return t},onSuccess:()=>{e.invalidateQueries({queryKey:["room-categories"]}),i.toast.success("Room category added")},onError:e=>{console.error("Failed to add room category:",e),i.toast.error("Failed to add room category")}})}function h(){let e=(0,s.useQueryClient)();return(0,r.useMutation)({mutationFn:async e=>{let{data:t}=await a.default.put(`/RoomCategories/${e.id}`,e);return t},onSuccess:()=>{e.invalidateQueries({queryKey:["room-categories"]}),i.toast.success("Room category updated")},onError:e=>{console.error("Failed to update room category:",e),i.toast.error("Failed to update room category")}})}function m(){let e=(0,s.useQueryClient)();return(0,r.useMutation)({mutationFn:async e=>{let t={...e,archived:!e.archived,status:e.archived?"Active":"Archived"},{data:r}=await a.default.put(`/RoomCategories/${e.id}`,t);return r},onSuccess:()=>{e.invalidateQueries({queryKey:["room-categories"]}),i.toast.success("Room category archive status updated")},onError:e=>{console.error("Failed to update room category archive status:",e),i.toast.error("Failed to update room category archive status")}})}e.s(["useAddRoom",()=>l,"useAddRoomCategory",()=>u,"useArchiveRoom",()=>c,"useArchiveRoomCategory",()=>m,"useRoomCategories",()=>n,"useRooms",()=>o,"useUpdateRoom",()=>d,"useUpdateRoomCategory",()=>h])},49870,e=>{"use strict";var t=e.i(38218),r=e.i(72894),s=e.i(71184),a=e.i(94909),i=e.i(39331),o=e.i(71161),n=e.i(59971),l=e.i(82040),d=e.i(23181),c=e.i(79680),u=e.i(70842),h=e.i(13625),m=e.i(84398);let x=(0,e.i(55663).default)("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]);var p=e.i(27149),g=e.i(48567),f=e.i(96705);function b({open:e,onOpenChange:r,room:a,roomCategories:i,onEdit:o}){if(!a)return null;let n=i.find(e=>e.id===a.categoryId);return(0,t.jsx)(g.Dialog,{open:e,onOpenChange:r,children:(0,t.jsxs)(g.DialogContent,{className:"max-w-md rounded-2xl border-border p-0 overflow-hidden flex flex-col gap-0 shadow-lg",children:[(0,t.jsx)(g.DialogHeader,{className:"p-6 bg-muted/30 border-b border-border shrink-0",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-background border border-border/50 rounded-xl text-primary shadow-sm",children:(0,t.jsx)(m.DoorOpen,{size:24,strokeWidth:1.5})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g.DialogTitle,{className:"text-lg font-semibold text-foreground",children:"Room Details"}),(0,t.jsx)(g.DialogDescription,{className:"text-muted-foreground text-xs mt-1",children:"View room information and status"})]})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-6 flex-1 overflow-y-auto bg-background",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-[10px] font-semibold text-muted-foreground uppercase tracking-wider mb-2",children:[(0,t.jsx)(m.DoorOpen,{size:12}),"Room Identification"]}),(0,t.jsx)("div",{className:"p-4 bg-muted/20 rounded-xl border border-border/40 space-y-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-xs text-muted-foreground block mb-1",children:"Room Number"}),(0,t.jsx)("span",{className:"text-sm font-semibold text-foreground",children:a.name})]})})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-[10px] font-semibold text-muted-foreground uppercase tracking-wider mb-2",children:[(0,t.jsx)(s.Layers,{size:12}),"Category / Classification"]}),(0,t.jsx)("div",{className:"p-4 bg-muted/20 rounded-xl border border-border/40",children:(0,t.jsxs)("span",{className:"text-sm font-medium text-foreground",children:[n?.name||"Uncategorized",n?.subCategory&&(0,t.jsx)("span",{className:"mx-2 text-muted-foreground",children:"—"}),n?.subCategory]})})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-4",children:(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-[10px] font-semibold text-muted-foreground uppercase tracking-wider mb-2",children:[(0,t.jsx)(x,{size:12}),"Floor / Level"]}),(0,t.jsx)("div",{className:"p-3 bg-muted/20 rounded-xl border border-border/40 h-16 flex items-center px-4",children:(0,t.jsx)("span",{className:"text-sm font-semibold",children:a.floor})})]})}),(0,t.jsxs)("div",{className:"pt-2 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-[10px] font-semibold text-muted-foreground uppercase tracking-wider block",children:"Status"}),(0,t.jsx)(f.Badge,{variant:"secondary",className:`mt-1 font-medium border-0 px-2.5 py-0.5 ${(e=>{switch(e){case"Available":return"text-emerald-600 bg-emerald-50 dark:bg-emerald-950/30 dark:text-emerald-400";case"Occupied":return"text-amber-600 bg-amber-50 dark:bg-amber-950/30 dark:text-amber-400";case"Maintenance":return"text-red-600 bg-red-50 dark:bg-red-950/30 dark:text-red-400";default:return"text-gray-600 bg-gray-50 dark:bg-gray-800 dark:text-gray-400"}})(a.status)}`,children:a.status})]}),(0,t.jsxs)("div",{className:"text-right space-y-1",children:[(0,t.jsx)("span",{className:"text-[10px] font-semibold text-muted-foreground uppercase tracking-wider block",children:"ID"}),(0,t.jsx)("span",{className:"text-xs font-mono text-muted-foreground",children:a.unitId||a.id})]})]})]}),(0,t.jsxs)(g.DialogFooter,{className:"gap-3 p-6 bg-muted/30 border-t border-border shrink-0 sm:justify-between",children:[(0,t.jsx)(l.Button,{variant:"outline",onClick:()=>r(!1),className:"rounded-xl h-11 px-6",children:"Close"}),(0,t.jsxs)(l.Button,{onClick:()=>{r(!1),o()},className:"rounded-xl h-11 px-6 bg-primary text-primary-foreground shadow-sm hover:bg-primary/90",children:[(0,t.jsx)(p.Edit,{className:"mr-2 h-4 w-4"}),"Edit Details"]})]})]})})}function v({rooms:e,roomCategories:m,onCreateRoom:x,onManageCategories:p,onRoomClick:g,onArchiveRoom:f}){let[v,y]=(0,r.useState)(""),[j,N]=(0,r.useState)(!1),[C,w]=(0,r.useState)("all"),[R,k]=(0,r.useState)(null),[S,D]=(0,r.useState)(!1),T=(0,r.useMemo)(()=>Array.from(new Set(e.map(e=>e.floor).filter(e=>null!=e))).sort((e,t)=>{let r=Number(e),s=Number(t);return isNaN(r)||isNaN(s)?String(e).localeCompare(String(t)):r-s}),[e]),O=e=>m.find(t=>t.id===e),I=e.filter(e=>{if(!!e.archived!==j||"all"!==C&&(null===e.floor||void 0===e.floor||e.floor.toString()!==C))return!1;if(!v)return!0;let t=v.toLowerCase().trim();if(e.floor&&e.floor.toString().toLowerCase()===t)return!0;let r=e.name?e.name.toLowerCase():"",s=e.unitId?e.unitId.toLowerCase():"",a=O(e.categoryId),i=a?a.name.toLowerCase():"";return r.includes(t)||s.includes(t)||i.includes(t)}),M=e.filter(e=>!e.archived).length,Q=e.filter(e=>e.archived).length;return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center bg-background p-1 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex flex-1 gap-2 w-full sm:w-auto overflow-x-auto pb-2 sm:pb-0 items-center",children:[(0,t.jsxs)("div",{className:"relative flex-1 max-w-sm min-w-[200px]",children:[(0,t.jsx)(i.Search,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(d.Input,{placeholder:"Search room, floor or category...",value:v,onChange:e=>y(e.target.value),className:"pl-9 h-10 bg-background text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),(0,t.jsxs)(h.Select,{value:C,onValueChange:w,children:[(0,t.jsx)(h.SelectTrigger,{className:"w-[140px] h-10",children:(0,t.jsx)(h.SelectValue,{placeholder:"Floor"})}),(0,t.jsxs)(h.SelectContent,{children:[(0,t.jsx)(h.SelectItem,{value:"all",children:"All Floors"}),T.map(e=>(0,t.jsxs)(h.SelectItem,{value:String(e),children:["Floor ",String(e)]},String(e)))]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 w-full sm:w-auto justify-end",children:[(0,t.jsx)(l.Button,{variant:"outline",onClick:()=>N(!j),size:"sm",className:"h-10 text-sm",children:j?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.RotateCcw,{size:16,className:"mr-2"})," Show Active (",M,")"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.Archive,{size:16,className:"mr-2"})," Show Archived (",Q,")"]})}),(0,t.jsxs)(l.Button,{variant:"outline",onClick:p,size:"sm",className:"hidden sm:flex h-10 text-sm",children:[(0,t.jsx)(s.Layers,{size:16,className:"mr-2"}),"Manage Categories"]}),!j&&(0,t.jsxs)(l.Button,{onClick:x,size:"sm",className:"h-10 text-sm bg-primary text-primary-foreground shadow-sm",children:[(0,t.jsx)(a.Plus,{size:16,className:"mr-2"}),"Create Unit"]})]})]}),(0,t.jsx)(c.Card,{className:"border-border shadow-sm rounded-xl overflow-hidden",children:(0,t.jsxs)(c.CardContent,{className:"p-0",children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)(u.Table,{children:[(0,t.jsx)(u.TableHeader,{className:"bg-muted/50",children:(0,t.jsxs)(u.TableRow,{className:"hover:bg-muted/50 border-border",children:[(0,t.jsx)(u.TableHead,{className:"h-10 px-4 align-middle font-medium text-muted-foreground w-[20%] text-left",children:"Room Number"}),(0,t.jsx)(u.TableHead,{className:"h-10 px-4 align-middle font-medium text-muted-foreground w-[20%] text-left",children:"Category"}),(0,t.jsx)(u.TableHead,{className:"h-10 px-4 align-middle font-medium text-muted-foreground w-[20%] text-left",children:"Sub-category"}),(0,t.jsx)(u.TableHead,{className:"h-10 px-4 align-middle font-medium text-muted-foreground w-[20%] text-left",children:"Floor"}),(0,t.jsx)(u.TableHead,{className:"h-10 px-4 align-middle font-medium text-muted-foreground w-[20%] text-center",children:"Actions"})]})}),(0,t.jsx)(u.TableBody,{children:0===I.length?(0,t.jsx)(u.TableRow,{children:(0,t.jsx)(u.TableCell,{colSpan:5,className:"h-32 text-center text-muted-foreground text-sm",children:j?"No archived room units yet":"No room units match your search."})}):I.map(e=>{let r=O(e.categoryId);return(0,t.jsxs)(u.TableRow,{className:"border-border hover:bg-muted/5 transition-colors cursor-pointer",onClick:()=>{k(e),D(!0)},children:[(0,t.jsx)(u.TableCell,{className:"p-4 align-middle text-sm font-medium text-foreground text-left w-[20%]",children:(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{children:e.name||"—"}),(0,t.jsxs)("span",{className:"text-xs text-muted-foreground font-normal",children:["#",e.unitId]})]})}),(0,t.jsx)(u.TableCell,{className:"p-4 align-middle text-left text-sm text-foreground w-[20%]",children:(0,t.jsx)("div",{className:"flex items-center justify-start gap-2",children:r?.name||"—"})}),(0,t.jsx)(u.TableCell,{className:"p-4 align-middle text-left text-sm text-muted-foreground w-[20%]",children:r?.subCategory||"—"}),(0,t.jsx)(u.TableCell,{className:"p-4 align-middle text-left text-sm text-muted-foreground w-[20%]",children:(0,t.jsx)("div",{className:"flex items-center justify-start gap-2",children:e.floor})}),(0,t.jsx)(u.TableCell,{className:"p-4 align-middle text-center w-[20%]",children:(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)(l.Button,{variant:"ghost",size:"icon",onClick:t=>{t.stopPropagation(),f?.(e.id)},className:`h-8 w-8 rounded-full ${e.archived?"text-primary hover:bg-primary/10":"text-muted-foreground hover:text-destructive hover:bg-destructive/10"}`,title:e.archived?"Restore":"Archive",children:e.archived?(0,t.jsx)(n.RotateCcw,{size:14}):(0,t.jsx)(o.Archive,{size:14})})})})]},e.id)})})]})}),(0,t.jsx)("div",{className:"p-4 border-t border-border bg-muted/5 flex items-center justify-between",children:(0,t.jsxs)("div",{className:"text-xs text-muted-foreground font-medium",children:["Showing ",I.length," rooms"]})})]})}),(0,t.jsx)(b,{open:S,onOpenChange:D,room:R,roomCategories:m,onEdit:()=>{R&&g&&g(R)}})]})}var y=e.i(75948),j=e.i(75526);function N({open:e,onOpenChange:a,roomCategories:i,onSave:o,initialData:n,defaultEditing:c=!1}){let u,[x,p]=(0,r.useState)({unitId:"",name:"",categoryId:"",floor:"",maxOccupancy:0,status:"Available"}),[f,b]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{e&&(n?(p({...n}),b(c)):(p({unitId:"",name:"",categoryId:"",floor:"",maxOccupancy:0,status:"Available"}),b(!0)))},[e,n,c]),(0,t.jsx)(g.Dialog,{open:e,onOpenChange:a,children:(0,t.jsxs)(g.DialogContent,{className:"max-w-xl rounded-2xl border-border p-0 overflow-hidden flex flex-col",children:[(0,t.jsx)(g.DialogHeader,{className:"p-6 bg-muted/40 border-b border-border shrink-0",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-primary/10 rounded-xl text-primary",children:(0,t.jsx)(m.DoorOpen,{size:20})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g.DialogTitle,{className:"text-lg font-semibold text-foreground",children:f?n?"Edit Room Details":"Create Room Unit":"Room Details"}),(0,t.jsx)(g.DialogDescription,{className:"text-muted-foreground text-xs mt-1",children:f?"Update room information and status":"View room information and status"})]})]})}),(0,t.jsxs)("form",{id:"room-form",onSubmit:e=>{e.preventDefault(),o({id:n?.id||`rm_${Date.now()}`,unitId:x.unitId||`U-${Date.now().toString().slice(-4)}`,name:x.name||"",categoryId:x.categoryId||"",floor:x.floor||"",maxOccupancy:0,status:x.status||"Available"}),n?b(!1):a(!1)},className:"p-6 space-y-6 flex-1 overflow-y-auto",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(j.Label,{className:"text-xs font-medium text-muted-foreground flex items-center gap-2",children:[(0,t.jsx)(y.Building2,{size:12})," Room Number"]}),f?(0,t.jsx)(d.Input,{required:!0,value:x.name,onChange:e=>p({...x,name:e.target.value}),placeholder:"e.g. Room 12",className:"h-10 bg-background text-sm"}):(0,t.jsx)("div",{className:"text-sm font-medium p-2 bg-muted/20 rounded-md border border-transparent",children:x.name||"—"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(j.Label,{className:"text-xs font-medium text-muted-foreground flex items-center gap-2",children:[(0,t.jsx)(s.Layers,{size:12})," Category / Classification"]}),f?(0,t.jsxs)(h.Select,{value:x.categoryId,onValueChange:e=>{let t=i.find(t=>t.id===e);p({...x,categoryId:e,maxOccupancy:t?.maxOccupancy||0})},children:[(0,t.jsx)(h.SelectTrigger,{className:"w-full h-10 bg-background px-3 text-sm truncate [&>span]:truncate",children:(0,t.jsx)(h.SelectValue,{placeholder:"Select Category..."})}),(0,t.jsx)(h.SelectContent,{className:"max-h-[200px]",children:i.filter(e=>!e.archived||e.id===x.categoryId).map(e=>(0,t.jsxs)(h.SelectItem,{value:e.id,className:"cursor-pointer",children:[(0,t.jsx)("span",{className:"font-medium text-foreground",children:e.name}),e.subCategory&&(0,t.jsxs)("span",{className:"text-muted-foreground ml-1 font-normal",children:["— ",e.subCategory]}),e.archived&&(0,t.jsx)("span",{className:"ml-2 text-xs text-destructive",children:"(Archived)"})]},e.id))})]}):(0,t.jsx)("div",{className:"text-sm font-medium p-2 bg-muted/20 rounded-md border border-transparent",children:(u=i.find(e=>e.id===x.categoryId))?`${u.name} ${u.subCategory?`— ${u.subCategory}`:""}`:x.categoryId||"—"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(j.Label,{className:"text-xs font-medium text-muted-foreground flex items-center gap-2",children:[(0,t.jsx)(y.Building2,{size:12})," Floor / Level"]}),f?(0,t.jsx)(d.Input,{type:"text",inputMode:"numeric",pattern:"[0-9]*",required:!0,value:x.floor,onChange:e=>{let t=e.target.value.replace(/[^0-9]/g,"");p({...x,floor:t})},placeholder:"e.g. 2",className:"h-10 bg-background text-sm"}):(0,t.jsx)("div",{className:"text-sm font-medium p-2 bg-muted/20 rounded-md border border-transparent",children:x.floor||"—"})]}),!f&&(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-border/50",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(j.Label,{className:"text-[10px] font-medium text-muted-foreground uppercase tracking-wider",children:"Status"}),(0,t.jsx)("div",{className:`text-sm font-medium inline-block px-2 py-0.5 rounded ${"Available"===x.status?"bg-emerald-500/10 text-emerald-700":"Maintenance"===x.status?"bg-amber-500/10 text-amber-700":"Deactivated"===x.status?"bg-red-500/10 text-red-700":"bg-muted text-muted-foreground"}`,children:x.status||"Unknown"})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(j.Label,{className:"text-[10px] font-medium text-muted-foreground uppercase tracking-wider",children:"ID"}),(0,t.jsx)("div",{className:"text-sm font-mono text-foreground",children:x.unitId||"—"})]})]})]}),(0,t.jsxs)(g.DialogFooter,{className:"p-6 bg-muted/40 border-t border-border shrink-0 flex justify-between items-center w-full sm:justify-between",children:[(0,t.jsx)("div",{}),(0,t.jsx)("div",{className:"flex gap-3",children:f?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.Button,{type:"button",variant:"outline",onClick:()=>{c?a(!1):n&&f?(b(!1),p({...n})):a(!1)},className:"rounded-xl",children:"Cancel"}),(0,t.jsx)(l.Button,{type:"submit",form:"room-form",className:"rounded-xl bg-primary text-primary-foreground shadow-lg hover:bg-primary/90",children:n?"Save Changes":"Initialize Unit"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.Button,{type:"button",variant:"outline",onClick:()=>a(!1),className:"rounded-xl",children:"Close"}),(0,t.jsx)(l.Button,{type:"button",onClick:()=>b(!0),className:"rounded-xl bg-primary text-primary-foreground shadow-lg hover:bg-primary/90",children:"Edit Details"})]})})]})]})})}var C=e.i(79071),w=e.i(19468),R=e.i(83502);function k({open:e,onOpenChange:i,roomCategories:c,onAddCategory:u,onUpdateCategory:h,onArchiveCategory:x}){let[p,f]=(0,r.useState)("list"),[b,v]=(0,r.useState)("active"),[y,N]=(0,r.useState)(null),[k,S]=(0,r.useState)({name:"",subCategory:"",description:""}),D=(0,r.useRef)(null),T=()=>{S({name:"",subCategory:"",description:""}),f("list"),N(null)},O=(e,r)=>(0,t.jsxs)("form",{onSubmit:e,className:"bg-muted/30 p-6 rounded-2xl border border-border space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(j.Label,{className:"text-xs font-medium text-muted-foreground flex items-center gap-2",children:[(0,t.jsx)(m.DoorOpen,{size:12})," Category Name"]}),(0,t.jsx)(d.Input,{required:!0,value:k.name,onChange:e=>S({...k,name:e.target.value}),placeholder:"e.g. Deluxe Suite",className:"border-input bg-background"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(j.Label,{className:"text-xs font-medium text-muted-foreground flex items-center gap-2",children:[(0,t.jsx)(s.Layers,{size:12})," Sub-Category"]}),(0,t.jsx)(d.Input,{required:!0,value:k.subCategory,onChange:e=>S({...k,subCategory:e.target.value}),placeholder:"e.g. Double Bed / Ocean View",className:"border-input bg-background"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j.Label,{className:"text-xs font-medium text-muted-foreground",children:"Description"}),(0,t.jsx)(R.Textarea,{rows:2,value:k.description,onChange:e=>S({...k,description:e.target.value}),placeholder:"Category description...",className:"border-input bg-background resize-none"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)(l.Button,{type:"submit",className:"flex-1 rounded-xl bg-primary text-primary-foreground shadow-lg hover:bg-primary/90",children:[(0,t.jsx)(w.Save,{size:14,className:"mr-2"})," ",r]}),(0,t.jsx)(l.Button,{type:"button",variant:"outline",onClick:T,className:"px-6 rounded-xl",children:"Cancel"})]})]});return(0,t.jsx)(g.Dialog,{open:e,onOpenChange:e=>{i(e),e||T()},children:(0,t.jsxs)(g.DialogContent,{className:"max-w-3xl rounded-2xl border-border p-0 overflow-hidden max-h-[85vh] flex flex-col",children:[(0,t.jsx)(g.DialogHeader,{className:"p-6 bg-muted/40 border-b border-border shrink-0",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-primary/10 rounded-xl text-primary",children:(0,t.jsx)(s.Layers,{size:22})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(g.DialogTitle,{className:"text-lg font-semibold text-foreground",children:"active"===b?"Room Categories":"Archived Room Categories"}),(0,t.jsx)(g.DialogDescription,{className:"text-muted-foreground text-xs mt-1",children:"active"===b?"Room Classification Configuration":"Restore archived room categories"})]}),(0,t.jsx)(l.Button,{variant:"outline",size:"sm",className:"text-xs font-medium",onClick:()=>v("active"===b?"archived":"active"),children:"active"===b?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.Archive,{size:14,className:"mr-2"}),"View Archived (",c.filter(e=>"Archived"===e.status).length,")"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.RotateCcw,{size:14,className:"mr-2"}),"View Active (",c.filter(e=>"Archived"!==e.status).length,")"]})})]})}),(0,t.jsxs)("div",{ref:D,className:"p-6 overflow-y-auto flex-1 space-y-6",children:["list"===p&&(0,t.jsxs)("button",{onClick:()=>f("add"),className:"w-full py-6 border-2 border-dashed border-border rounded-2xl flex items-center justify-center gap-3 text-muted-foreground hover:text-primary hover:border-primary hover:bg-primary/5 transition-all group",children:[(0,t.jsx)(a.Plus,{size:22,className:"group-hover:rotate-90 transition-transform duration-300"}),(0,t.jsx)("span",{className:"font-semibold text-xs",children:"Add Room Category"})]}),"add"===p&&O(e=>{e.preventDefault(),u({...k,baseRate:0,maxOccupancy:0}),T()},"Save Category"),"edit"===p&&O(e=>{e.preventDefault(),y&&h(y,k),T()},"Update Category"),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-3",children:c.filter(e=>"active"===b?"Archived"!==e.status:"Archived"===e.status).map(e=>(0,t.jsxs)("div",{className:`group flex items-center justify-between p-5 rounded-2xl border border-border transition-all ${"Archived"===e.status?"bg-muted/30 opacity-60 grayscale":"bg-card/50 hover:border-primary/20 hover:bg-card"}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-5",children:[(0,t.jsx)("div",{className:"p-3 bg-primary/10 rounded-xl text-primary",children:(0,t.jsx)(m.DoorOpen,{size:18})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"text-sm font-bold text-foreground",children:[e.name,e.subCategory&&(0,t.jsxs)("span",{className:"text-muted-foreground font-normal ml-1",children:["• ",e.subCategory]})]}),(0,t.jsx)("p",{className:"text-xs font-medium text-muted-foreground",children:e.description||"No description"})]})]}),(0,t.jsx)("div",{className:"flex items-center gap-4",children:(0,t.jsxs)("div",{className:"flex gap-1.5",children:[(0,t.jsx)("button",{onClick:()=>{S({name:e.name,subCategory:e.subCategory||"",description:e.description}),N(e.id),f("edit"),D.current?.scrollTo({top:0,behavior:"smooth"})},disabled:"Archived"===e.status,className:"p-2.5 text-muted-foreground hover:text-foreground hover:bg-muted rounded-lg transition-all disabled:opacity-50",children:(0,t.jsx)(C.Edit3,{size:16})}),(0,t.jsx)("button",{onClick:()=>x(e.id),className:`p-2.5 rounded-lg transition-all ${"Archived"===e.status?"text-primary hover:bg-primary/10":"text-destructive/70 hover:text-destructive hover:bg-destructive/10"}`,children:"Archived"===e.status?(0,t.jsx)(n.RotateCcw,{size:16}):(0,t.jsx)(o.Archive,{size:16})})]})})]},e.id))})]}),(0,t.jsx)(g.DialogFooter,{className:"p-6 bg-muted/40 border-t border-border shrink-0",children:(0,t.jsx)(l.Button,{onClick:()=>i(!1),className:"px-8 rounded-xl bg-primary text-primary-foreground shadow-lg hover:bg-primary/90",children:"Done"})})]})})}var S=e.i(71827);function D(){let{data:e=[]}=(0,S.useRooms)(),{data:s=[]}=(0,S.useRoomCategories)(),a=(0,S.useAddRoom)(),i=(0,S.useUpdateRoom)(),o=(0,S.useArchiveRoom)(),n=(0,S.useAddRoomCategory)(),l=(0,S.useUpdateRoomCategory)(),d=(0,S.useArchiveRoomCategory)(),[c,u]=(0,r.useState)(!1),[h,m]=(0,r.useState)(!1),[x,p]=(0,r.useState)(null),g=async e=>{x?await i.mutateAsync(e):await a.mutateAsync(e),u(!1),p(null)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v,{rooms:e,roomCategories:s,onCreateRoom:()=>{p(null),u(!0)},onManageCategories:()=>m(!0),onRoomClick:e=>{p(e),u(!0)},onArchiveRoom:async t=>{let r=e.find(e=>e.id===t);r&&await o.mutateAsync(r)}}),(0,t.jsx)(N,{open:c,onOpenChange:e=>{u(e),e||p(null)},roomCategories:s,onSave:g,initialData:x,defaultEditing:!0}),(0,t.jsx)(k,{open:h,onOpenChange:m,roomCategories:s,onAddCategory:async e=>await n.mutateAsync({...e,status:"Active",maxOccupancy:e.maxOccupancy??0}),onUpdateCategory:async(e,t)=>await l.mutateAsync({...t,id:e}),onArchiveCategory:async e=>{let t=s.find(t=>t.id===e);t&&await d.mutateAsync(t)}})]})}e.s(["default",()=>D],49870)}]);