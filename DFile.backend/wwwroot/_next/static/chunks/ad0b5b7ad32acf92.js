(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,67725,e=>{"use strict";var s=e.i(38218),a=e.i(72894),t=e.i(82040),r=e.i(25490),i=e.i(42997),l=e.i(18828),d=e.i(94909),n=e.i(37696),c=e.i(13625),o=e.i(42191),m=e.i(79680),x=e.i(75526),u=e.i(96705),p=e.i(76044),h=e.i(766),g=e.i(11816);function f({onRegister:e,onManageCategories:f,onAssetClick:j}){let{data:b=[]}=(0,p.useAssets)(),[v,N]=(0,a.useState)(""),[y,w]=(0,a.useState)("inventory"),C=b.find(e=>e.id===v),k=b.filter(e=>"Archived"!==e.status);return(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)(n.Tabs,{value:y,onValueChange:w,className:"w-full",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mb-6",children:[(0,s.jsxs)(n.TabsList,{className:"grid w-full max-w-[400px] grid-cols-2",children:[(0,s.jsx)(n.TabsTrigger,{value:"inventory",children:"Inventory List"}),(0,s.jsx)(n.TabsTrigger,{value:"tagging",children:"Tagging & QR"})]}),(0,s.jsxs)("div",{className:"flex gap-2 w-full sm:w-auto",children:[f&&(0,s.jsxs)(t.Button,{variant:"outline",onClick:f,className:"h-10 text-sm flex-1 sm:flex-none rounded-md",children:[(0,s.jsx)(r.LayoutGrid,{size:16,className:"mr-2"}),"Manage Categories"]}),(0,s.jsxs)(t.Button,{onClick:e,className:"h-10 text-sm bg-primary text-primary-foreground shadow-sm flex-1 sm:flex-none rounded-md",children:[(0,s.jsx)(d.Plus,{size:16,className:"mr-2"}),"Register Asset"]})]})]}),(0,s.jsxs)(n.TabsContent,{value:"inventory",className:"space-y-6 mt-0",children:[(0,s.jsx)(h.AssetStats,{}),(0,s.jsx)(g.AssetTable,{onAssetClick:j})]}),(0,s.jsx)(n.TabsContent,{value:"tagging",className:"mt-0",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsx)("div",{className:"md:col-span-2",children:(0,s.jsxs)(m.Card,{className:"border-border  shadow-sm h-full",children:[(0,s.jsx)(m.CardHeader,{className:"border-b border-border bg-muted/40 px-6 py-4 rounded-t-xl",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"p-2 bg-primary/10 rounded-lg",children:(0,s.jsx)(i.QrCode,{className:"h-5 w-5 text-primary"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(m.CardTitle,{className:"text-lg font-semibold",children:"Generate Asset Tags"}),(0,s.jsx)(m.CardDescription,{className:"text-sm text-muted-foreground mt-0.5",children:"Create and print QR codes for inventory tracking"})]})]})}),(0,s.jsx)(m.CardContent,{className:"p-6",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(x.Label,{htmlFor:"asset-select",children:"Select Asset to Tag"}),(0,s.jsxs)(c.Select,{value:v,onValueChange:N,children:[(0,s.jsx)(c.SelectTrigger,{id:"asset-select",className:"h-10 text-sm",children:(0,s.jsx)(c.SelectValue,{placeholder:"Search or select an asset..."})}),(0,s.jsx)(c.SelectContent,{className:"max-h-[300px]",children:k.map(e=>(0,s.jsxs)(c.SelectItem,{value:e.id,children:[(0,s.jsx)("span",{className:"font-mono mr-2 text-muted-foreground",children:e.id}),e.desc]},e.id))})]}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Choose an asset from the inventory to generate its unique QR code tag."})]}),C&&(0,s.jsx)("div",{className:"p-4 bg-muted/20  border border-border/50 space-y-4",children:(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground block text-xs uppercase tracking-wider mb-1",children:"Category"}),(0,s.jsx)("span",{className:"font-medium",children:C.cat})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground block text-xs uppercase tracking-wider mb-1",children:"Status"}),(0,s.jsx)(u.Badge,{variant:"outline",className:"bg-background",children:C.status})]}),(0,s.jsxs)("div",{className:"col-span-2",children:[(0,s.jsx)("span",{className:"text-muted-foreground block text-xs uppercase tracking-wider mb-1",children:"Description"}),(0,s.jsx)("span",{className:"font-medium",children:C.desc})]})]})})]})})]})}),(0,s.jsx)("div",{className:"md:col-span-1",children:(0,s.jsxs)(m.Card,{className:"border-border  shadow-sm h-full flex flex-col",children:[(0,s.jsx)(m.CardHeader,{className:"border-b border-border bg-muted/40 px-6 py-4 rounded-t-xl",children:(0,s.jsx)(m.CardTitle,{className:"text-base font-semibold",children:"Tag Preview"})}),(0,s.jsx)(m.CardContent,{className:"p-6 flex-1 flex flex-col items-center justify-center text-center space-y-6",children:C?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"bg-white p-4  border shadow-sm",children:(0,s.jsx)(o.QRCodeSVG,{value:JSON.stringify({id:C.id,name:C.desc}),size:160,level:"H"})}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("h4",{className:"font-mono text-xl font-bold tracking-tight text-primary",children:C.id}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground max-w-[200px] mx-auto line-clamp-2",children:C.desc})]}),(0,s.jsx)("div",{className:"flex gap-2 w-full pt-4 mt-auto",children:(0,s.jsxs)(t.Button,{variant:"outline",className:"flex-1",onClick:()=>window.print(),children:[(0,s.jsx)(l.Printer,{size:16,className:"mr-2"})," Print Label"]})})]}):(0,s.jsxs)("div",{className:"text-muted-foreground/40 flex flex-col items-center justify-center h-full py-12",children:[(0,s.jsx)("div",{className:"p-4 bg-muted/20 rounded-full mb-4",children:(0,s.jsx)(i.QrCode,{size:48})}),(0,s.jsx)("p",{className:"text-sm font-medium text-foreground",children:"No Asset Selected"}),(0,s.jsx)("p",{className:"text-xs mt-1",children:"Select an asset to generate preview"})]})})]})})]})})]})})}var j=e.i(43919),b=e.i(48567),v=e.i(55663);let N=(0,v.default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);var y=e.i(71184),w=e.i(2901),C=e.i(2724),C=C,k=e.i(69261);let A=(0,v.default)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),S=(0,v.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);var T=e.i(23181),D=e.i(83502),L=e.i(30935),I=e.i(54148),z=e.i(49020),R=e.i(38261),M=e.i(33342),V=e.i(32179),B=e.i(98661),P=e.i(24312),F="Collapsible",[E,U]=(0,I.createContextScope)(F),[H,O]=E(F),$=a.forwardRef((e,t)=>{let{__scopeCollapsible:r,open:i,defaultOpen:l,disabled:d,onOpenChange:n,...c}=e,[o,m]=(0,z.useControllableState)({prop:i,defaultProp:l??!1,onChange:n,caller:F});return(0,s.jsx)(H,{scope:r,disabled:d,contentId:(0,P.useId)(),open:o,onOpenToggle:a.useCallback(()=>m(e=>!e),[m]),children:(0,s.jsx)(V.Primitive.div,{"data-state":_(o),"data-disabled":d?"":void 0,...c,ref:t})})});$.displayName=F;var G="CollapsibleTrigger",q=a.forwardRef((e,a)=>{let{__scopeCollapsible:t,...r}=e,i=O(G,t);return(0,s.jsx)(V.Primitive.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":_(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:a,onClick:(0,L.composeEventHandlers)(e.onClick,i.onOpenToggle)})});q.displayName=G;var Q="CollapsibleContent",Y=a.forwardRef((e,a)=>{let{forceMount:t,...r}=e,i=O(Q,e.__scopeCollapsible);return(0,s.jsx)(B.Presence,{present:t||i.open,children:({present:e})=>(0,s.jsx)(W,{...r,ref:a,present:e})})});Y.displayName=Q;var W=a.forwardRef((e,t)=>{let{__scopeCollapsible:r,present:i,children:l,...d}=e,n=O(Q,r),[c,o]=a.useState(i),m=a.useRef(null),x=(0,M.useComposedRefs)(t,m),u=a.useRef(0),p=u.current,h=a.useRef(0),g=h.current,f=n.open||c,j=a.useRef(f),b=a.useRef(void 0);return a.useEffect(()=>{let e=requestAnimationFrame(()=>j.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,R.useLayoutEffect)(()=>{let e=m.current;if(e){b.current=b.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";let s=e.getBoundingClientRect();u.current=s.height,h.current=s.width,j.current||(e.style.transitionDuration=b.current.transitionDuration,e.style.animationName=b.current.animationName),o(i)}},[n.open,i]),(0,s.jsx)(V.Primitive.div,{"data-state":_(n.open),"data-disabled":n.disabled?"":void 0,id:n.contentId,hidden:!f,...d,ref:x,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:f&&l})});function _(e){return e?"open":"closed"}e.s(["Collapsible",()=>$,"CollapsibleContent",()=>Y,"CollapsibleTrigger",()=>q,"Content",()=>Y,"Root",()=>$,"Trigger",()=>q,"createCollapsibleScope",()=>U],72160);var J=e.i(72160),J=J;function K({...e}){return(0,s.jsx)(J.Root,{"data-slot":"collapsible",...e})}function X({...e}){return(0,s.jsx)(J.CollapsibleTrigger,{"data-slot":"collapsible-trigger",...e})}function Z({...e}){return(0,s.jsx)(J.CollapsibleContent,{"data-slot":"collapsible-content",...e})}var ee=e.i(3650);function es({categories:e,onCancel:r,onSuccess:i,onAddAsset:l,isModal:d=!1,initialData:n}){let[o,m]=(0,a.useState)(n?.image||null),[u,p]=(0,a.useState)(n&&e.find(e=>e.name===n.cat)?.handlingType||"Fixed"),[h,g]=(0,a.useState)(!!n?.manufacturer),f=(0,a.useRef)(null),b=n?e.find(e=>e.name===n.cat)?.id:void 0,v=async s=>{s.preventDefault();let a=new FormData(s.currentTarget),t=a.get("category"),r=e.find(e=>e.id===t);if(l){let e=Number(a.get("purchasePrice"))||0,s=Number(a.get("usefulLifeYears"))||0;l({id:n?.id||a.get("assetId")||`AST-${Date.now().toString().slice(-6)}`,desc:a.get("name"),cat:r?.name||"Unknown",status:a.get("status")||"Available",room:"â€”",image:o||void 0,manufacturer:a.get("manufacturer"),model:a.get("model"),serialNumber:a.get("serialNumber"),purchaseDate:a.get("purchaseDate"),vendor:a.get("vendor"),warrantyExpiry:a.get("warrantyExpiry"),nextMaintenance:a.get("nextMaintenance"),notes:a.get("notes"),value:e,purchasePrice:e,usefulLifeYears:s>0?s:void 0}),i&&i()}};return(0,s.jsxs)("form",{onSubmit:v,className:d?"flex flex-col flex-1 min-h-0 bg-background/50":"space-y-8",children:[(0,s.jsx)("div",{className:"flex-1 overflow-y-auto px-1",children:(0,s.jsxs)("div",{className:"p-6 space-y-10",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-6 pb-2 border-b",children:[(0,s.jsx)(y.Layers,{className:"w-4 h-4 text-primary"}),(0,s.jsx)("h3",{className:"font-semibold text-sm tracking-wide text-foreground uppercase",children:"General Information"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-2.5",children:[(0,s.jsxs)(x.Label,{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:["Asset Name ",(0,s.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,s.jsx)(T.Input,{name:"name",defaultValue:n?.desc,required:!0,placeholder:"e.g. Executive Desk",className:"h-10"})]}),(0,s.jsxs)("div",{className:"space-y-2.5",children:[(0,s.jsxs)(x.Label,{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:["Category ",(0,s.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,s.jsxs)(c.Select,{name:"category",defaultValue:b,onValueChange:s=>{let a=e.find(e=>e.id===s);a&&p(a.handlingType)},children:[(0,s.jsx)(c.SelectTrigger,{className:"h-10 w-full",children:(0,s.jsx)(c.SelectValue,{placeholder:"Select Category..."})}),(0,s.jsx)(c.SelectContent,{position:"popper",className:"max-h-[200px] w-[var(--radix-select-trigger-width)]",children:e.map(e=>(0,s.jsx)(c.SelectItem,{value:e.id,children:e.name},e.id))})]})]}),(0,s.jsxs)("div",{className:"space-y-2.5",children:[(0,s.jsx)(x.Label,{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Handling Type"}),(0,s.jsxs)("div",{className:"flex items-center gap-3 h-10 px-3 rounded-md border bg-muted/30 text-muted-foreground text-sm font-medium",children:[(0,s.jsx)(y.Layers,{size:14,className:"text-primary/70"}),u]})]}),(0,s.jsxs)("div",{className:"space-y-2.5",children:[(0,s.jsx)(x.Label,{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Status"}),(0,s.jsxs)(c.Select,{name:"status",defaultValue:n?.status||"Available",children:[(0,s.jsx)(c.SelectTrigger,{className:"h-10 border-input w-full",children:(0,s.jsx)(c.SelectValue,{})}),(0,s.jsxs)(c.SelectContent,{position:"popper",className:"max-h-[200px] w-[var(--radix-select-trigger-width)]",children:[(0,s.jsx)(c.SelectItem,{value:"Available",children:(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),"Available"]})}),(0,s.jsx)(c.SelectItem,{value:"In Use",children:(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),"In Use"]})}),(0,s.jsx)(c.SelectItem,{value:"Maintenance",children:(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-amber-500"}),"Maintenance"]})}),(0,s.jsx)(c.SelectItem,{value:"Disposed",children:(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-slate-500"}),"Disposed"]})})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2.5",children:[(0,s.jsx)(x.Label,{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Serial Number"}),(0,s.jsx)(T.Input,{name:"serialNumber",defaultValue:n?.serialNumber,placeholder:"SN-12345678",className:"h-10 font-mono text-sm"})]}),(0,s.jsxs)("div",{className:"space-y-2.5",children:[(0,s.jsx)(x.Label,{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Purchase Date"}),(0,s.jsx)(T.Input,{name:"purchaseDate",defaultValue:n?.purchaseDate?new Date(n.purchaseDate).toISOString().split("T")[0]:"",type:"date",className:"h-10"})]}),(0,s.jsxs)("div",{className:"space-y-2.5",children:[(0,s.jsx)(x.Label,{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Cost"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("span",{className:"absolute left-3 top-2.5 text-muted-foreground font-semibold",children:"â‚±"}),(0,s.jsx)(T.Input,{name:"purchasePrice",defaultValue:n?.purchasePrice,type:"number",placeholder:"0.00",className:"pl-7 h-10 font-mono"})]})]}),(0,s.jsxs)("div",{className:"space-y-2.5",children:[(0,s.jsx)(x.Label,{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Useful Life (Years)"}),(0,s.jsx)(T.Input,{name:"usefulLifeYears",defaultValue:n?.usefulLifeYears,type:"number",placeholder:"e.g. 5",className:"h-10"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-6 pb-2 border-b mt-2",children:[(0,s.jsx)(w.FileText,{className:"w-4 h-4 text-primary"}),(0,s.jsx)("h3",{className:"font-semibold text-sm tracking-wide text-foreground uppercase",children:"Documentation & Visuals"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,s.jsxs)("div",{className:"md:col-span-1 space-y-2.5",children:[(0,s.jsx)(x.Label,{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Asset Image"}),(0,s.jsxs)("div",{className:"group relative border-2 border-dashed border-muted-foreground/25 hover:border-primary/50 hover:bg-muted/50  h-[200px] flex flex-col items-center justify-center p-4 transition-all duration-200 cursor-pointer overflow-hidden bg-background",onClick:()=>f.current?.click(),children:[o?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("img",{src:o,alt:"Preview",className:"w-full h-full object-cover rounded-lg shadow-sm"}),(0,s.jsxs)("div",{className:"absolute inset-0 bg-black/60 flex flex-col items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-200 backdrop-blur-[2px]",children:[(0,s.jsx)(A,{className:"w-8 h-8 text-white mb-2"}),(0,s.jsx)("p",{className:"text-white text-xs font-medium tracking-wide uppercase",children:"Change Image"})]})]}):(0,s.jsxs)("div",{className:"flex flex-col items-center text-center p-2",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform duration-200",children:(0,s.jsx)(N,{className:"h-6 w-6 text-primary"})}),(0,s.jsx)("p",{className:"text-sm font-medium text-foreground",children:"Click to upload image"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"PNG, JPG up to 5MB"})]}),(0,s.jsx)("input",{ref:f,type:"file",accept:"image/*",className:"hidden",onChange:e=>{let s=e.target.files?.[0];if(s){let e=new FileReader;e.onloadend=()=>{m(e.result)},e.readAsDataURL(s)}}})]}),o&&(0,s.jsxs)(t.Button,{type:"button",variant:"ghost",size:"sm",className:"w-full mt-2 text-destructive hover:text-destructive hover:bg-destructive/10 h-8",onClick:e=>{e.stopPropagation(),m(null),f.current&&(f.current.value="")},children:[(0,s.jsx)(S,{size:14,className:"mr-2"})," Remove Image"]})]}),(0,s.jsxs)("div",{className:"md:col-span-2 space-y-2.5",children:[(0,s.jsx)(x.Label,{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Notes & Description"}),(0,s.jsx)(D.Textarea,{name:"notes",defaultValue:n?.notes,placeholder:"Enter detailed description, condition notes, or location specifics...",className:"resize-none h-[200px] font-sans leading-relaxed"})]})]})]}),(0,s.jsx)("div",{className:"border rounded-lg bg-card shadow-sm",children:(0,s.jsxs)(K,{open:h,onOpenChange:g,children:[(0,s.jsx)(X,{asChild:!0,children:(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-muted/50 transition-colors rounded-t-lg group",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(j.Package,{className:"w-4 h-4 text-muted-foreground group-hover:text-primary transition-colors"}),(0,s.jsx)("h3",{className:"font-semibold text-sm tracking-wide uppercase text-muted-foreground group-hover:text-foreground transition-colors",children:"Manufacturer & Warranty"})]}),(0,s.jsx)("div",{className:`p-1 rounded-full transition-colors ${h?"bg-primary/10 text-primary":"bg-muted text-muted-foreground"}`,children:h?(0,s.jsx)(C.default,{size:14}):(0,s.jsx)(k.ChevronRight,{size:14})})]})}),(0,s.jsxs)(Z,{children:[(0,s.jsx)(ee.Separator,{}),(0,s.jsxs)("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6 bg-muted/10",children:[(0,s.jsxs)("div",{className:"space-y-2.5",children:[(0,s.jsx)(x.Label,{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide truncate block",title:"Manufacturer",children:"Manufacturer"}),(0,s.jsx)(T.Input,{name:"manufacturer",defaultValue:n?.manufacturer,placeholder:"e.g. Herman Miller",className:"h-9 bg-background"})]}),(0,s.jsxs)("div",{className:"space-y-2.5",children:[(0,s.jsx)(x.Label,{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide truncate block",title:"Model Number",children:"Model Number"}),(0,s.jsx)(T.Input,{name:"model",defaultValue:n?.model,placeholder:"Model X",className:"h-9 bg-background"})]}),(0,s.jsxs)("div",{className:"space-y-2.5",children:[(0,s.jsx)(x.Label,{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide truncate block",title:"Vendor",children:"Vendor"}),(0,s.jsx)(T.Input,{name:"vendor",defaultValue:n?.vendor,placeholder:"Vendor Inc.",className:"h-9 bg-background"})]}),(0,s.jsxs)("div",{className:"space-y-2.5",children:[(0,s.jsx)(x.Label,{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide truncate block",title:"Warranty Expiry",children:"Warranty Expiry"}),(0,s.jsx)(T.Input,{name:"warrantyExpiry",defaultValue:n?.warrantyExpiry?new Date(n.warrantyExpiry).toISOString().split("T")[0]:"",type:"date",className:"h-9 bg-background"})]})]})]})]})})]})}),(0,s.jsxs)("div",{className:"p-4 px-6 border-t bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 flex items-center justify-between mt-auto z-10",children:[(0,s.jsx)("div",{}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[r&&(0,s.jsx)(t.Button,{type:"button",variant:"outline",onClick:r,children:"Cancel"}),(0,s.jsx)(t.Button,{type:"submit",className:"h-10 text-sm px-8 shadow-sm",children:n?"Update Asset":"Register Asset"})]})]})]})}function ea({open:e,onOpenChange:a,categories:t,onAddAsset:r,initialData:i,mode:l="create"}){return(0,s.jsx)(b.Dialog,{open:e,onOpenChange:a,children:(0,s.jsxs)(b.DialogContent,{className:"max-w-[72rem] w-[95vw] rounded-2xl border-border p-0 overflow-hidden h-[90vh] flex flex-col",children:[(0,s.jsx)(b.DialogHeader,{className:"p-6 bg-muted/40 border-b border-border shrink-0",children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"p-3 bg-primary/10  text-primary",children:(0,s.jsx)(j.Package,{size:20})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(b.DialogTitle,{className:"text-lg font-semibold text-foreground",children:"create"===l?"Register New Asset":"Edit Asset Details"}),(0,s.jsx)(b.DialogDescription,{className:"text-muted-foreground text-xs mt-1",children:"create"===l?"Physical Asset Intake Protocol":"Modify existing asset record"})]})]})}),(0,s.jsx)(es,{categories:t,onCancel:()=>a(!1),onSuccess:()=>a(!1),onAddAsset:r,isModal:!0,initialData:i})]})})}var et=e.i(79071),er=e.i(19468),ei=e.i(71161),el=e.i(59971);let ed=(0,v.default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var en=e.i(67520),ec=e.i(54217);function eo({open:e,onOpenChange:i,categories:l,onAddCategory:n,onUpdateCategory:o,onArchiveCategory:m}){let[u,p]=(0,a.useState)("active"),[h,g]=(0,a.useState)(null),[f,j]=(0,a.useState)(!1),[v,N]=(0,a.useState)(null),y=(0,a.useRef)(null),[w,C]=(0,a.useState)({name:"",description:"",handlingType:"Fixed"}),k=e=>{C({name:e.name,description:e.description,handlingType:e.handlingType||"Fixed"}),N(e.id),j(!0),p("active"),setTimeout(()=>y.current?.scrollTo({top:0,behavior:"smooth"}),100)};return(0,s.jsx)(b.Dialog,{open:e,onOpenChange:i,children:(0,s.jsxs)(b.DialogContent,{className:"max-w-3xl rounded-2xl border-border p-0 overflow-hidden max-h-[85vh] flex flex-col",children:[(0,s.jsx)(b.DialogHeader,{className:"p-6 bg-muted/40 border-b border-border shrink-0",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"p-3 bg-primary/10  text-primary",children:"detail"===u?(0,s.jsx)(ed,{size:22}):(0,s.jsx)(r.LayoutGrid,{size:22})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(b.DialogTitle,{className:"text-lg font-semibold text-foreground",children:"active"===u?"Physical Asset Categories":"archived"===u?"Archived Categories":"Category Details"}),(0,s.jsx)(b.DialogDescription,{className:"text-muted-foreground text-xs mt-1",children:"active"===u?"Tenant-Level Classification Schema":"archived"===u?"Restore or permanently delete archived items":`Detailed view of ${h?.name}`})]})]}),"detail"===u&&(0,s.jsx)(t.Button,{variant:"ghost",size:"sm",onClick:()=>p(h?.isArchived?"archived":"active"),children:"Back to List"})]})}),(0,s.jsx)("div",{ref:y,className:"p-6 overflow-y-auto flex-1 space-y-6",children:"detail"===u&&h?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(x.Label,{className:"text-[10px] uppercase text-muted-foreground font-bold tracking-wider",children:"Category Name"}),(0,s.jsx)("p",{className:"text-lg font-semibold",children:h.name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(x.Label,{className:"text-[10px] uppercase text-muted-foreground font-bold tracking-wider",children:"Handling Type"}),(0,s.jsx)("div",{children:(0,s.jsx)("span",{className:`text-xs font-semibold px-2 py-1 rounded-full border ${"Fixed"===h.handlingType?"bg-blue-500/10 text-blue-500 border-blue-500/20":"Moveable"===h.handlingType?"bg-emerald-500/10 text-emerald-500 border-emerald-500/20":"bg-amber-500/10 text-amber-500 border-amber-500/20"}`,children:h.handlingType})})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(x.Label,{className:"text-[10px] uppercase text-muted-foreground font-bold tracking-wider",children:"Description"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:h.description||"No description provided."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(x.Label,{className:"text-[10px] uppercase text-muted-foreground font-bold tracking-wider",children:"Active Assets"}),(0,s.jsxs)("p",{className:"text-sm font-semibold",children:[h.items||0," Assets registered"]})]})]})]}),(0,s.jsx)(ee.Separator,{}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-muted/20 p-4 rounded-xl border border-border",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,s.jsx)(ec.Clock,{size:14,className:"text-muted-foreground"}),(0,s.jsx)("span",{className:"text-muted-foreground",children:"Created:"}),(0,s.jsx)("span",{className:"font-medium",children:h.createdAt?new Date(h.createdAt).toLocaleString():"N/A"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,s.jsx)(en.User,{size:14,className:"text-muted-foreground"}),(0,s.jsx)("span",{className:"text-muted-foreground",children:"Created By:"}),(0,s.jsx)("span",{className:"font-medium",children:h.createdBy||"System"})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,s.jsx)(ec.Clock,{size:14,className:"text-muted-foreground"}),(0,s.jsx)("span",{className:"text-muted-foreground",children:"Last Updated:"}),(0,s.jsx)("span",{className:"font-medium",children:h.updatedAt?new Date(h.updatedAt).toLocaleString():"N/A"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,s.jsx)(en.User,{size:14,className:"text-muted-foreground"}),(0,s.jsx)("span",{className:"text-muted-foreground",children:"Updated By:"}),(0,s.jsx)("span",{className:"font-medium",children:h.updatedBy||"System"})]})]})]}),h.isArchived&&(0,s.jsxs)("div",{className:"bg-destructive/5 p-4 rounded-xl border border-destructive/20 flex flex-col gap-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs text-destructive",children:[(0,s.jsx)(ei.Archive,{size:14}),(0,s.jsx)("span",{className:"font-bold uppercase tracking-wider text-[10px]",children:"Archival Information"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,s.jsx)(ec.Clock,{size:14,className:"text-destructive/70"}),(0,s.jsx)("span",{className:"text-muted-foreground",children:"Archived At:"}),(0,s.jsx)("span",{className:"font-medium",children:h.archivedAt?new Date(h.archivedAt).toLocaleString():"N/A"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,s.jsx)(en.User,{size:14,className:"text-destructive/70"}),(0,s.jsx)("span",{className:"text-muted-foreground",children:"Archived By:"}),(0,s.jsx)("span",{className:"font-medium",children:h.archivedBy||"N/A"})]})]})]}),(0,s.jsx)("div",{className:"flex gap-3 pt-4",children:h.isArchived?(0,s.jsxs)(t.Button,{onClick:()=>{m(h.id),p("archived")},className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white",children:[(0,s.jsx)(el.RotateCcw,{size:14,className:"mr-2"})," Restore Category"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.Button,{onClick:()=>k(h),className:"flex-1",children:[(0,s.jsx)(et.Edit3,{size:14,className:"mr-2"})," Edit Category"]}),(0,s.jsxs)(t.Button,{variant:"destructive",onClick:()=>{m(h.id),p("active")},className:"flex-1",children:[(0,s.jsx)(ei.Archive,{size:14,className:"mr-2"})," Archive"]})]})})]}):(0,s.jsxs)(s.Fragment,{children:["active"===u&&(f?(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),v?(o(v,w),N(null)):n({...w,id:`cat_${Date.now()}`}),C({name:"",description:"",handlingType:"Fixed"}),j(!1)},className:"bg-muted/30 p-6 rounded-2xl border border-border space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(x.Label,{className:"text-xs font-medium text-muted-foreground",children:"Category Name"}),(0,s.jsx)(T.Input,{required:!0,value:w.name,onChange:e=>C({...w,name:e.target.value}),placeholder:"e.g. Smart Appliances",className:"h-10 border-input bg-background"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(x.Label,{className:"text-xs font-medium text-muted-foreground",children:"Handling Type"}),(0,s.jsxs)(c.Select,{required:!0,value:w.handlingType,onValueChange:e=>C({...w,handlingType:e}),children:[(0,s.jsx)(c.SelectTrigger,{className:"h-10 border-input bg-background w-full",children:(0,s.jsx)(c.SelectValue,{placeholder:"Select handling type"})}),(0,s.jsxs)(c.SelectContent,{children:[(0,s.jsx)(c.SelectItem,{value:"Consumable",children:"Consumable"}),(0,s.jsx)(c.SelectItem,{value:"Moveable",children:"Moveable"}),(0,s.jsx)(c.SelectItem,{value:"Fixed",children:"Fixed"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[(0,s.jsx)(x.Label,{className:"text-xs font-medium text-muted-foreground",children:"Description"}),(0,s.jsx)(T.Input,{value:w.description,onChange:e=>C({...w,description:e.target.value}),placeholder:"Brief scope of assets",className:"border-input bg-background"})]})]}),(0,s.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,s.jsx)(t.Button,{type:"button",variant:"outline",onClick:()=>{j(!1),N(null),C({name:"",description:"",handlingType:"Fixed"})},children:"Cancel"}),(0,s.jsxs)(t.Button,{type:"submit",className:" bg-primary text-primary-foreground shadow-lg hover:bg-primary/90",children:[(0,s.jsx)(er.Save,{size:14,className:"mr-2"})," ",v?"Save Changes":"Save Classification"]})]})]}):(0,s.jsxs)("button",{onClick:()=>{N(null),C({name:"",description:"",handlingType:"Fixed"}),j(!0)},className:"w-full py-6 border-2 border-dashed border-border rounded-2xl flex items-center justify-center gap-3 text-muted-foreground hover:text-primary hover:border-primary hover:bg-primary/5 transition-all group",children:[(0,s.jsx)(d.Plus,{size:22,className:"group-hover:rotate-90 transition-transform duration-300"}),(0,s.jsx)("span",{className:"font-semibold text-xs",children:"Define New Classification"})]})),(0,s.jsx)("div",{className:"grid grid-cols-1 gap-3",children:l.filter(e=>"active"===u?"Archived"!==e.status&&!e.isArchived:"Archived"===e.status||e.isArchived).map(e=>(0,s.jsxs)("div",{className:`group flex items-center justify-between p-5 rounded-2xl border border-border transition-all ${e.isArchived?"bg-muted/30 opacity-60 grayscale":"bg-card/50 hover:border-primary/20 hover:bg-card"}`,children:[(0,s.jsxs)("div",{className:"flex items-center gap-5 flex-1 cursor-pointer",onClick:()=>{g(e),p("detail")},children:[(0,s.jsx)("div",{className:"p-3 bg-primary/10  text-primary",children:(0,s.jsx)(r.LayoutGrid,{size:18})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0 grid gap-0.5",children:[(0,s.jsx)("h4",{className:"text-sm font-bold text-foreground truncate",children:e.name}),(0,s.jsx)("p",{className:"text-xs font-medium text-muted-foreground truncate",children:e.description})]}),(0,s.jsx)("div",{className:"px-4 shrink-0",children:(0,s.jsx)("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded-full border whitespace-nowrap ${"Fixed"===e.handlingType?"bg-blue-500/10 text-blue-500 border-blue-500/20":"Moveable"===e.handlingType?"bg-emerald-500/10 text-emerald-500 border-emerald-500/20":"bg-amber-500/10 text-amber-500 border-amber-500/20"}`,children:e.handlingType})})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4 shrink-0",children:[(0,s.jsxs)("div",{className:"text-right px-4 border-r border-border",children:[(0,s.jsx)("p",{className:"text-sm font-bold text-foreground",children:e.items??0}),(0,s.jsx)("p",{className:"text-[10px] font-medium text-muted-foreground",children:"Active Assets"})]}),(0,s.jsxs)("div",{className:"flex gap-1.5",children:[(0,s.jsx)("button",{onClick:()=>k(e),disabled:e.isArchived,className:"p-2.5 text-muted-foreground hover:text-foreground hover:bg-muted rounded-md transition-all disabled:opacity-50",children:(0,s.jsx)(et.Edit3,{size:16})}),(0,s.jsx)("button",{onClick:()=>m(e.id),className:`p-2.5 rounded-md transition-all ${e.isArchived?"text-primary hover:bg-primary/10":"text-destructive/70 hover:text-destructive hover:bg-destructive/10"}`,children:e.isArchived?(0,s.jsx)(el.RotateCcw,{size:16}):(0,s.jsx)(ei.Archive,{size:16})})]})]})]},e.id))})]})}),(0,s.jsxs)(b.DialogFooter,{className:"p-6 bg-muted/40 border-t border-border shrink-0 flex justify-between gap-3",children:[(0,s.jsx)(t.Button,{variant:"outline",size:"sm",onClick:()=>p("archived"===u?"active":"archived"),className:"h-10 text-sm w-[160px] justify-start bg-background",disabled:"detail"===u,children:"active"===u?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ei.Archive,{size:14,className:"mr-2"}),"Show Archive (",l.filter(e=>e.isArchived||"Archived"===e.status).length,")"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(el.RotateCcw,{size:14,className:"mr-2"}),"Show Active (",l.filter(e=>!e.isArchived&&"Archived"!==e.status).length,")"]})}),(0,s.jsx)(t.Button,{onClick:()=>i(!1),className:"h-10 text-sm px-4 bg-primary text-primary-foreground shadow-lg hover:bg-primary/90",children:"Finished Configuration"})]})]})})}var em=e.i(83636),ex=e.i(11011);function eu(){let{data:e=[]}=(0,p.useAssets)(),{data:t=[]}=(0,ex.useCategories)(!0),r=(0,p.useAddAsset)(),i=(0,p.useUpdateAsset)(),l=(0,ex.useAddCategory)(),d=(0,ex.useUpdateCategory)(),n=(0,ex.useArchiveCategory)(),c=(0,ex.useRestoreCategory)(),[o,m]=(0,a.useState)(!1),[x,u]=(0,a.useState)(!1),[h,g]=(0,a.useState)(null),[j,b]=(0,a.useState)(!1),[v,N]=(0,a.useState)(!1);e.filter(e=>"Archived"!==e.status);let y=t.filter(e=>"Archived"!==e.status);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f,{onRegister:()=>{N(!1),g(null),m(!0)},onManageCategories:()=>u(!0),onAssetClick:e=>{g(e),b(!0)}}),(0,s.jsx)(ea,{open:o,onOpenChange:e=>{e||(N(!1),g(null)),m(e)},categories:y,mode:v?"edit":"create",initialData:v&&h?h:void 0,onAddAsset:async e=>{try{v?await i.mutateAsync(e):await r.mutateAsync(e),m(!1),N(!1),g(null)}catch(e){console.error("Operation failed",e)}}}),(0,s.jsx)(em.AssetDetailsModal,{open:j,onOpenChange:b,asset:h,onEdit:e=>{b(!1),g(e),N(!0),m(!0)}}),(0,s.jsx)(eo,{open:x,onOpenChange:u,categories:t,onAddCategory:async e=>{await l.mutateAsync({...e,isArchived:!1,status:"Active"})},onUpdateCategory:async(e,s)=>{await d.mutateAsync({...s,id:e})},onArchiveCategory:async e=>{let s=t.find(s=>s.id===e);s&&"Archived"===s.status?await c.mutateAsync(e):await n.mutateAsync(e)}})]})}e.s(["default",()=>eu],67725)}]);