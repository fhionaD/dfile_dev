(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,27149,e=>{"use strict";let t=(0,e.i(55663).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["Edit",()=>t],27149)},71827,e=>{"use strict";var t=e.i(7662),a=e.i(90105),r=e.i(24972),s=e.i(51305),o=e.i(63370);function i(){return(0,t.useQuery)({queryKey:["rooms"],queryFn:async()=>{let{data:e}=await s.default.get("/api/Rooms");return e}})}function l(){return(0,t.useQuery)({queryKey:["room-categories","all"],queryFn:async()=>{let{data:e}=await s.default.get("/api/RoomCategories?includeArchived=true");return e}})}function n(){let e=(0,r.useQueryClient)();return(0,a.useMutation)({mutationFn:async e=>{let{data:t}=await s.default.post("/api/Rooms",e);return t},onSuccess:()=>{e.invalidateQueries({queryKey:["rooms"]}),o.toast.success("Room added successfully")},onError:e=>{console.error("Failed to add room:",e),o.toast.error("Failed to add room")}})}function d(){let e=(0,r.useQueryClient)();return(0,a.useMutation)({mutationFn:async e=>{let{data:t}=await s.default.put(`/api/Rooms/${e.id}`,e);return t},onSuccess:()=>{e.invalidateQueries({queryKey:["rooms"]}),o.toast.success("Room updated successfully")},onError:e=>{console.error("Failed to update room:",e),o.toast.error("Failed to update room")}})}function c(){let e=(0,r.useQueryClient)();return(0,a.useMutation)({mutationFn:async e=>{let t={...e,archived:!e.archived,status:e.archived?"Available":"Deactivated"},{data:a}=await s.default.put(`/api/Rooms/${e.id}`,t);return a},onSuccess:()=>{e.invalidateQueries({queryKey:["rooms"]}),o.toast.success("Room archive status updated")},onError:e=>{console.error("Failed to update room archive status:",e),o.toast.error("Failed to update room archive status")}})}function u(){let e=(0,r.useQueryClient)();return(0,a.useMutation)({mutationFn:async e=>{let{data:t}=await s.default.post("/api/RoomCategories",e);return t},onSuccess:()=>{e.invalidateQueries({queryKey:["room-categories"]}),o.toast.success("Room category added")},onError:e=>{console.error("Failed to add room category:",e),o.toast.error("Failed to add room category")}})}function m(){let e=(0,r.useQueryClient)();return(0,a.useMutation)({mutationFn:async e=>{let{data:t}=await s.default.put(`/api/RoomCategories/${e.id}`,e);return t},onSuccess:()=>{e.invalidateQueries({queryKey:["room-categories"]}),o.toast.success("Room category updated")},onError:e=>{console.error("Failed to update room category:",e),o.toast.error("Failed to update room category")}})}function x(){let e=(0,r.useQueryClient)();return(0,a.useMutation)({mutationFn:async e=>{let t={...e,archived:!e.archived,status:e.archived?"Active":"Archived"},{data:a}=await s.default.put(`/api/RoomCategories/${e.id}`,t);return a},onSuccess:()=>{e.invalidateQueries({queryKey:["room-categories"]}),o.toast.success("Room category archive status updated")},onError:e=>{console.error("Failed to update room category archive status:",e),o.toast.error("Failed to update room category archive status")}})}e.s(["useAddRoom",()=>n,"useAddRoomCategory",()=>u,"useArchiveRoom",()=>c,"useArchiveRoomCategory",()=>x,"useRoomCategories",()=>l,"useRooms",()=>i,"useUpdateRoom",()=>d,"useUpdateRoomCategory",()=>m])},71184,e=>{"use strict";let t=(0,e.i(55663).default)("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);e.s(["Layers",()=>t],71184)},96705,e=>{"use strict";var t=e.i(38218),a=e.i(39634),r=e.i(44183),s=e.i(884);let o=(0,a.cva)("inline-flex items-center justify-center rounded-full border border-transparent px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border-border text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",ghost:"[a&]:hover:bg-accent [a&]:hover:text-accent-foreground",link:"text-primary underline-offset-4 [a&]:hover:underline"}},defaultVariants:{variant:"default"}});function i({className:e,variant:a="default",asChild:i=!1,...l}){let n=i?r.Slot.Root:"span";return(0,t.jsx)(n,{"data-slot":"badge","data-variant":a,className:(0,s.cn)(o({variant:a}),e),...l})}e.s(["Badge",()=>i])},94909,e=>{"use strict";let t=(0,e.i(55663).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],94909)},70842,e=>{"use strict";var t=e.i(38218),a=e.i(884);function r({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,t.jsx)("table",{"data-slot":"table",className:(0,a.cn)("w-full caption-bottom text-sm",e),...r})})}function s({className:e,...r}){return(0,t.jsx)("thead",{"data-slot":"table-header",className:(0,a.cn)("[&_tr]:border-b",e),...r})}function o({className:e,...r}){return(0,t.jsx)("tbody",{"data-slot":"table-body",className:(0,a.cn)("[&_tr:last-child]:border-0",e),...r})}function i({className:e,...r}){return(0,t.jsx)("tr",{"data-slot":"table-row",className:(0,a.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...r})}function l({className:e,...r}){return(0,t.jsx)("th",{"data-slot":"table-head",className:(0,a.cn)("text-foreground h-10 px-4 py-3 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...r})}function n({className:e,...r}){return(0,t.jsx)("td",{"data-slot":"table-cell",className:(0,a.cn)("px-4 py-3 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...r})}e.s(["Table",()=>r,"TableBody",()=>o,"TableCell",()=>n,"TableHead",()=>l,"TableHeader",()=>s,"TableRow",()=>i])},71161,59971,e=>{"use strict";var t=e.i(55663);let a=(0,t.default)("archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);e.s(["Archive",()=>a],71161);let r=(0,t.default)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);e.s(["RotateCcw",()=>r],59971)},75526,e=>{"use strict";var t=e.i(38218),a=e.i(72894),r=e.i(32179),s=a.forwardRef((e,a)=>(0,t.jsx)(r.Primitive.label,{...e,ref:a,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));s.displayName="Label",e.s(["Label",()=>s,"Root",()=>s],31277);var o=e.i(31277),o=o,i=e.i(884);function l({className:e,...a}){return(0,t.jsx)(o.Root,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...a})}e.s(["Label",()=>l],75526)},48567,e=>{"use strict";var t=e.i(38218),a=e.i(49117),r=e.i(10114),s=e.i(884),o=e.i(82040);function i({...e}){return(0,t.jsx)(r.Dialog.Root,{"data-slot":"dialog",...e})}function l({...e}){return(0,t.jsx)(r.Dialog.Trigger,{"data-slot":"dialog-trigger",...e})}function n({...e}){return(0,t.jsx)(r.Dialog.Portal,{"data-slot":"dialog-portal",...e})}function d({className:e,...a}){return(0,t.jsx)(r.Dialog.Overlay,{"data-slot":"dialog-overlay",className:(0,s.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...a})}function c({className:e,children:o,showCloseButton:i=!0,...l}){return(0,t.jsxs)(n,{"data-slot":"dialog-portal",children:[(0,t.jsx)(d,{}),(0,t.jsxs)(r.Dialog.Content,{"data-slot":"dialog-content",className:(0,s.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 outline-none sm:max-w-lg",e),...l,children:[o,i&&(0,t.jsxs)(r.Dialog.Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,t.jsx)(a.XIcon,{}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function u({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"dialog-header",className:(0,s.cn)("flex flex-col gap-2 text-center sm:text-left",e),...a})}function m({className:e,showCloseButton:a=!1,children:i,...l}){return(0,t.jsxs)("div",{"data-slot":"dialog-footer",className:(0,s.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...l,children:[i,a&&(0,t.jsx)(r.Dialog.Close,{asChild:!0,children:(0,t.jsx)(o.Button,{variant:"outline",children:"Close"})})]})}function x({className:e,...a}){return(0,t.jsx)(r.Dialog.Title,{"data-slot":"dialog-title",className:(0,s.cn)("text-lg leading-none font-semibold",e),...a})}function g({className:e,...a}){return(0,t.jsx)(r.Dialog.Description,{"data-slot":"dialog-description",className:(0,s.cn)("text-muted-foreground text-sm",e),...a})}e.s(["Dialog",()=>i,"DialogContent",()=>c,"DialogDescription",()=>g,"DialogFooter",()=>m,"DialogHeader",()=>u,"DialogTitle",()=>x,"DialogTrigger",()=>l])},83502,e=>{"use strict";var t=e.i(38218),a=e.i(884);function r({className:e,...r}){return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,a.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...r})}e.s(["Textarea",()=>r])},19468,e=>{"use strict";let t=(0,e.i(55663).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>t],19468)},79071,e=>{"use strict";let t=(0,e.i(55663).default)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);e.s(["Edit3",()=>t],79071)},49870,e=>{"use strict";var t=e.i(38218),a=e.i(72894),r=e.i(71184),s=e.i(94909),o=e.i(39331),i=e.i(71161),l=e.i(59971),n=e.i(82040),d=e.i(23181),c=e.i(79680),u=e.i(70842),m=e.i(13625),x=e.i(84398);let g=(0,e.i(55663).default)("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]);var h=e.i(27149),p=e.i(48567),f=e.i(96705);function b({open:e,onOpenChange:a,room:s,roomCategories:o,onEdit:i}){if(!s)return null;let l=o.find(e=>e.id===s.categoryId);return(0,t.jsx)(p.Dialog,{open:e,onOpenChange:a,children:(0,t.jsxs)(p.DialogContent,{className:"max-w-md rounded-2xl border-border p-0 overflow-hidden flex flex-col gap-0 shadow-lg",children:[(0,t.jsx)(p.DialogHeader,{className:"p-6 bg-muted/30 border-b border-border shrink-0",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-background border border-border/50  text-primary shadow-sm",children:(0,t.jsx)(x.DoorOpen,{size:24,strokeWidth:1.5})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(p.DialogTitle,{className:"text-lg font-semibold text-foreground",children:"Room Details"}),(0,t.jsx)(p.DialogDescription,{className:"text-muted-foreground text-xs mt-1",children:"View room information and status"})]})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-6 flex-1 overflow-y-auto bg-background",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-[10px] font-semibold text-muted-foreground uppercase tracking-wider mb-2",children:[(0,t.jsx)(x.DoorOpen,{size:12}),"Room Identification"]}),(0,t.jsx)("div",{className:"p-4 bg-muted/20  border border-border/40 space-y-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-xs text-muted-foreground block mb-1",children:"Room Number"}),(0,t.jsx)("span",{className:"text-sm font-semibold text-foreground",children:s.name})]})})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-[10px] font-semibold text-muted-foreground uppercase tracking-wider mb-2",children:[(0,t.jsx)(r.Layers,{size:12}),"Category / Classification"]}),(0,t.jsx)("div",{className:"p-4 bg-muted/20  border border-border/40",children:(0,t.jsxs)("span",{className:"text-sm font-medium text-foreground",children:[l?.name||"Uncategorized",l?.subCategory&&(0,t.jsx)("span",{className:"mx-2 text-muted-foreground",children:"—"}),l?.subCategory]})})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-4",children:(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-[10px] font-semibold text-muted-foreground uppercase tracking-wider mb-2",children:[(0,t.jsx)(g,{size:12}),"Floor / Level"]}),(0,t.jsx)("div",{className:"p-3 bg-muted/20  border border-border/40 h-16 flex items-center px-4",children:(0,t.jsx)("span",{className:"text-sm font-semibold",children:s.floor})})]})}),(0,t.jsxs)("div",{className:"pt-2 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-[10px] font-semibold text-muted-foreground uppercase tracking-wider block",children:"Status"}),(0,t.jsx)(f.Badge,{variant:"secondary",className:`mt-1 font-medium border-0 px-2.5 py-0.5 ${(e=>{switch(e){case"Available":return"text-emerald-600 bg-emerald-50 dark:bg-emerald-950/30 dark:text-emerald-400";case"Occupied":return"text-amber-600 bg-amber-50 dark:bg-amber-950/30 dark:text-amber-400";case"Maintenance":return"text-red-600 bg-red-50 dark:bg-red-950/30 dark:text-red-400";default:return"text-gray-600 bg-gray-50 dark:bg-gray-800 dark:text-gray-400"}})(s.status)}`,children:s.status})]}),(0,t.jsxs)("div",{className:"text-right space-y-1",children:[(0,t.jsx)("span",{className:"text-[10px] font-semibold text-muted-foreground uppercase tracking-wider block",children:"ID"}),(0,t.jsx)("span",{className:"text-xs font-mono text-muted-foreground",children:s.unitId||s.id})]})]})]}),(0,t.jsxs)(p.DialogFooter,{className:"p-6 bg-muted/30 border-t border-border shrink-0 flex justify-end gap-3",children:[(0,t.jsx)(n.Button,{variant:"outline",onClick:()=>a(!1),className:"",children:"Close"}),(0,t.jsxs)(n.Button,{onClick:()=>{a(!1),i()},className:" bg-primary text-primary-foreground shadow-lg hover:bg-primary/90",children:[(0,t.jsx)(h.Edit,{className:"mr-2 h-4 w-4"}),"Edit Details"]})]})]})})}function v({rooms:e,roomCategories:x,onCreateRoom:g,onManageCategories:h,onRoomClick:p,onArchiveRoom:f}){let[v,y]=(0,a.useState)(""),[j,N]=(0,a.useState)(!1),[w,C]=(0,a.useState)("all"),[k,D]=(0,a.useState)(null),[R,S]=(0,a.useState)(!1),A=(0,a.useMemo)(()=>Array.from(new Set(e.map(e=>e.floor).filter(e=>null!=e))).sort((e,t)=>{let a=Number(e),r=Number(t);return isNaN(a)||isNaN(r)?String(e).localeCompare(String(t)):a-r}),[e]),z=e=>x.find(t=>t.id===e),M=e.filter(e=>{if(!!e.archived!==j||"all"!==w&&(null===e.floor||void 0===e.floor||e.floor.toString()!==w))return!1;if(!v)return!0;let t=v.toLowerCase().trim();if(e.floor&&e.floor.toString().toLowerCase()===t)return!0;let a=e.name?e.name.toLowerCase():"",r=e.unitId?e.unitId.toLowerCase():"",s=z(e.categoryId),o=s?s.name.toLowerCase():"";return a.includes(t)||r.includes(t)||o.includes(t)}),T=e.filter(e=>!e.archived).length,F=e.filter(e=>e.archived).length;return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center bg-background p-1 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex flex-1 gap-2 w-full sm:w-auto overflow-x-auto pb-2 sm:pb-0 items-center",children:[(0,t.jsxs)("div",{className:"relative flex-1 max-w-sm min-w-[200px]",children:[(0,t.jsx)(o.Search,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(d.Input,{placeholder:"Search room, floor or category...",value:v,onChange:e=>y(e.target.value),className:"pl-9 h-10 bg-background text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),(0,t.jsxs)(m.Select,{value:w,onValueChange:C,children:[(0,t.jsx)(m.SelectTrigger,{className:"w-[140px] h-10",children:(0,t.jsx)(m.SelectValue,{placeholder:"Floor"})}),(0,t.jsxs)(m.SelectContent,{children:[(0,t.jsx)(m.SelectItem,{value:"all",children:"All Floors"}),A.map(e=>(0,t.jsxs)(m.SelectItem,{value:String(e),children:["Floor ",String(e)]},String(e)))]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 w-full sm:w-auto justify-end",children:[!j&&(0,t.jsxs)(n.Button,{variant:"outline",onClick:h,size:"sm",className:"hidden sm:flex h-10 text-sm",children:[(0,t.jsx)(r.Layers,{size:16,className:"mr-2"}),"Manage Categories"]}),!j&&(0,t.jsxs)(n.Button,{onClick:g,size:"sm",className:"h-10 text-sm bg-primary text-primary-foreground shadow-sm",children:[(0,t.jsx)(s.Plus,{size:16,className:"mr-2"}),"Create Unit"]}),(0,t.jsx)(n.Button,{variant:j?"default":"outline",onClick:()=>N(!j),size:"sm",className:"h-10 text-sm w-[160px] justify-start",children:j?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.RotateCcw,{size:16,className:"mr-2"}),"Show Active (",T,")"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Archive,{size:16,className:"mr-2"}),"Show Archive (",F,")"]})})]})]}),(0,t.jsx)(c.Card,{className:"border-border shadow-sm  overflow-hidden",children:(0,t.jsxs)(c.CardContent,{className:"p-0",children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)(u.Table,{className:"w-full table-fixed",children:[(0,t.jsx)(u.TableHeader,{children:(0,t.jsxs)(u.TableRow,{className:"bg-muted/50 hover:bg-muted/50 border-border",children:[(0,t.jsx)(u.TableHead,{className:"px-4 py-3 align-middle font-medium text-muted-foreground w-[20%] text-left",children:"Room Number"}),(0,t.jsx)(u.TableHead,{className:"px-4 py-3 align-middle font-medium text-muted-foreground w-[20%] text-left",children:"Category"}),(0,t.jsx)(u.TableHead,{className:"px-4 py-3 align-middle font-medium text-muted-foreground w-[20%] text-left",children:"Sub-category"}),(0,t.jsx)(u.TableHead,{className:"px-4 py-3 align-middle font-medium text-muted-foreground w-[20%] text-left",children:"Floor"}),(0,t.jsx)(u.TableHead,{className:"px-4 py-3 align-middle font-medium text-muted-foreground w-[20%] text-center",children:"Actions"})]})}),(0,t.jsx)(u.TableBody,{children:0===M.length?(0,t.jsx)(u.TableRow,{children:(0,t.jsx)(u.TableCell,{colSpan:5,className:"h-32 text-center text-muted-foreground text-sm",children:j?"No archived room units yet":"No room units match your search."})}):M.map(e=>{let a=z(e.categoryId);return(0,t.jsxs)(u.TableRow,{className:"hover:bg-muted/5 transition-colors cursor-pointer border-b border-border last:border-0",onClick:()=>{D(e),S(!0)},children:[(0,t.jsx)(u.TableCell,{className:"px-4 py-3 align-middle text-sm font-medium text-foreground text-left w-[20%]",children:(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{children:e.name||"—"}),(0,t.jsxs)("span",{className:"text-xs text-muted-foreground font-normal",children:["#",e.unitId]})]})}),(0,t.jsx)(u.TableCell,{className:"px-4 py-3 align-middle text-left text-sm text-foreground w-[20%]",children:(0,t.jsx)("div",{className:"flex items-center justify-start gap-2",children:a?.name||"—"})}),(0,t.jsx)(u.TableCell,{className:"px-4 py-3 align-middle text-left text-sm text-muted-foreground w-[20%]",children:a?.subCategory||"—"}),(0,t.jsx)(u.TableCell,{className:"px-4 py-3 align-middle text-left text-sm text-muted-foreground w-[20%]",children:(0,t.jsx)("div",{className:"flex items-center justify-start gap-2",children:e.floor})}),(0,t.jsx)(u.TableCell,{className:"px-4 py-3 align-middle text-center w-[20%]",children:(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)(n.Button,{variant:"ghost",size:"icon",onClick:t=>{t.stopPropagation(),f?.(e.id)},className:`h-8 w-8 rounded-full ${e.archived?"text-primary hover:bg-primary/10":"text-muted-foreground hover:text-destructive hover:bg-destructive/10"}`,title:e.archived?"Restore":"Archive",children:e.archived?(0,t.jsx)(l.RotateCcw,{size:14}):(0,t.jsx)(i.Archive,{size:14})})})})]},e.id)})})]})}),(0,t.jsx)("div",{className:"p-4 border-t border-border bg-muted/5 flex items-center justify-between",children:(0,t.jsxs)("div",{className:"text-xs text-muted-foreground font-medium",children:["Showing ",M.length," rooms"]})})]})}),(0,t.jsx)(b,{open:R,onOpenChange:S,room:k,roomCategories:x,onEdit:()=>{k&&p&&p(k)}})]})}var y=e.i(75948),j=e.i(75526);function N({open:e,onOpenChange:s,roomCategories:o,onSave:i,initialData:l,defaultEditing:c=!1}){let u,[g,h]=(0,a.useState)({unitId:"",name:"",categoryId:"",floor:"",maxOccupancy:0,status:"Available"}),[f,b]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{e&&(l?(h({...l}),b(c)):(h({unitId:"",name:"",categoryId:"",floor:"",maxOccupancy:0,status:"Available"}),b(!0)))},[e,l,c]),(0,t.jsx)(p.Dialog,{open:e,onOpenChange:s,children:(0,t.jsxs)(p.DialogContent,{className:"max-w-xl rounded-2xl border-border p-0 overflow-hidden flex flex-col",children:[(0,t.jsx)(p.DialogHeader,{className:"p-6 bg-muted/40 border-b border-border shrink-0",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-primary/10  text-primary",children:(0,t.jsx)(x.DoorOpen,{size:20})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(p.DialogTitle,{className:"text-lg font-semibold text-foreground",children:f?l?"Edit Room Details":"Create Room Unit":"Room Details"}),(0,t.jsx)(p.DialogDescription,{className:"text-muted-foreground text-xs mt-1",children:f?"Update room information and status":"View room information and status"})]})]})}),(0,t.jsxs)("form",{id:"room-form",onSubmit:e=>{e.preventDefault(),i({id:l?.id||`rm_${Date.now()}`,unitId:g.unitId||`U-${Date.now().toString().slice(-4)}`,name:g.name||"",categoryId:g.categoryId||"",floor:g.floor||"",maxOccupancy:0,status:g.status||"Available"}),l?b(!1):s(!1)},className:"p-6 space-y-6 flex-1 overflow-y-auto",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(j.Label,{className:"text-xs font-medium text-muted-foreground flex items-center gap-2",children:[(0,t.jsx)(y.Building2,{size:12})," Room Number ",(0,t.jsx)("span",{className:"text-destructive",children:"*"})]}),f?(0,t.jsx)(d.Input,{required:!0,value:g.name,onChange:e=>h({...g,name:e.target.value}),placeholder:"e.g. Room 12",className:"h-10 bg-background text-sm"}):(0,t.jsx)("div",{className:"text-sm font-medium p-2 bg-muted/20 rounded-md border border-transparent",children:g.name||"—"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(j.Label,{className:"text-xs font-medium text-muted-foreground flex items-center gap-2",children:[(0,t.jsx)(r.Layers,{size:12})," Category / Classification ",(0,t.jsx)("span",{className:"text-destructive",children:"*"})]}),f?(0,t.jsxs)(m.Select,{value:g.categoryId,onValueChange:e=>{let t=o.find(t=>t.id===e);h({...g,categoryId:e,maxOccupancy:t?.maxOccupancy||0})},children:[(0,t.jsx)(m.SelectTrigger,{className:"w-full h-10 bg-background px-3 text-sm truncate [&>span]:truncate",children:(0,t.jsx)(m.SelectValue,{placeholder:"Select Category..."})}),(0,t.jsx)(m.SelectContent,{className:"max-h-[200px]",children:o.filter(e=>!e.archived||e.id===g.categoryId).map(e=>(0,t.jsxs)(m.SelectItem,{value:e.id,className:"cursor-pointer",children:[(0,t.jsx)("span",{className:"font-medium text-foreground",children:e.name}),e.subCategory&&(0,t.jsxs)("span",{className:"text-muted-foreground ml-1 font-normal",children:["— ",e.subCategory]}),e.archived&&(0,t.jsx)("span",{className:"ml-2 text-xs text-destructive",children:"(Archived)"})]},e.id))})]}):(0,t.jsx)("div",{className:"text-sm font-medium p-2 bg-muted/20 rounded-md border border-transparent",children:(u=o.find(e=>e.id===g.categoryId))?`${u.name} ${u.subCategory?`— ${u.subCategory}`:""}`:g.categoryId||"—"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(j.Label,{className:"text-xs font-medium text-muted-foreground flex items-center gap-2",children:[(0,t.jsx)(y.Building2,{size:12})," Floor / Level ",(0,t.jsx)("span",{className:"text-destructive",children:"*"})]}),f?(0,t.jsx)(d.Input,{type:"text",inputMode:"numeric",pattern:"[0-9]*",required:!0,value:g.floor,onChange:e=>{let t=e.target.value.replace(/[^0-9]/g,"");h({...g,floor:t})},placeholder:"e.g. 2",className:"h-10 bg-background text-sm"}):(0,t.jsx)("div",{className:"text-sm font-medium p-2 bg-muted/20 rounded-md border border-transparent",children:g.floor||"—"})]}),!f&&(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-border/50",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(j.Label,{className:"text-[10px] font-medium text-muted-foreground uppercase tracking-wider",children:"Status"}),(0,t.jsx)("div",{className:`text-sm font-medium inline-block px-2 py-0.5 rounded ${"Available"===g.status?"bg-emerald-500/10 text-emerald-700":"Maintenance"===g.status?"bg-amber-500/10 text-amber-700":"Deactivated"===g.status?"bg-red-500/10 text-red-700":"bg-muted text-muted-foreground"}`,children:g.status||"Unknown"})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(j.Label,{className:"text-[10px] font-medium text-muted-foreground uppercase tracking-wider",children:"ID"}),(0,t.jsx)("div",{className:"text-sm font-mono text-foreground",children:g.unitId||"—"})]})]})]}),(0,t.jsxs)(p.DialogFooter,{className:"p-6 bg-muted/40 border-t border-border shrink-0 flex justify-between items-center w-full sm:justify-between",children:[(0,t.jsx)("div",{}),(0,t.jsx)("div",{className:"flex gap-3",children:f?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Button,{type:"button",variant:"outline",onClick:()=>{c?s(!1):l&&f?(b(!1),h({...l})):s(!1)},className:"h-10 text-sm",children:"Cancel"}),(0,t.jsx)(n.Button,{type:"submit",form:"room-form",className:"h-10 text-sm px-4 bg-primary text-primary-foreground shadow-lg hover:bg-primary/90",children:l?"Save Changes":"Initialize Unit"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Button,{type:"button",variant:"outline",onClick:()=>s(!1),className:"h-10 text-sm",children:"Close"}),(0,t.jsx)(n.Button,{type:"button",onClick:()=>b(!0),className:"h-10 text-sm px-4 bg-primary text-primary-foreground shadow-lg hover:bg-primary/90",children:"Edit Details"})]})})]})]})})}var w=e.i(79071),C=e.i(19468),k=e.i(83502);function D({open:e,onOpenChange:o,roomCategories:c,onAddCategory:u,onUpdateCategory:m,onArchiveCategory:g}){let[h,f]=(0,a.useState)("list"),[b,v]=(0,a.useState)("active"),[y,N]=(0,a.useState)(null),[D,R]=(0,a.useState)({name:"",subCategory:"",description:""}),S=(0,a.useRef)(null),A=()=>{R({name:"",subCategory:"",description:""}),f("list"),N(null)},z=(e,a)=>(0,t.jsxs)("form",{onSubmit:e,className:"bg-muted/30 p-6 rounded-2xl border border-border space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(j.Label,{className:"text-xs font-medium text-muted-foreground flex items-center gap-2",children:[(0,t.jsx)(x.DoorOpen,{size:12})," Category Name"]}),(0,t.jsx)(d.Input,{required:!0,value:D.name,onChange:e=>R({...D,name:e.target.value}),placeholder:"e.g. Deluxe Suite",className:"border-input bg-background"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(j.Label,{className:"text-xs font-medium text-muted-foreground flex items-center gap-2",children:[(0,t.jsx)(r.Layers,{size:12})," Sub-Category"]}),(0,t.jsx)(d.Input,{required:!0,value:D.subCategory,onChange:e=>R({...D,subCategory:e.target.value}),placeholder:"e.g. Double Bed / Ocean View",className:"border-input bg-background"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j.Label,{className:"text-xs font-medium text-muted-foreground",children:"Description"}),(0,t.jsx)(k.Textarea,{rows:2,value:D.description,onChange:e=>R({...D,description:e.target.value}),placeholder:"Category description...",className:"border-input bg-background resize-none"})]}),(0,t.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,t.jsx)(n.Button,{type:"button",variant:"outline",onClick:A,className:"",children:"Cancel"}),(0,t.jsxs)(n.Button,{type:"submit",className:" bg-primary text-primary-foreground shadow-lg hover:bg-primary/90",children:[(0,t.jsx)(C.Save,{size:14,className:"mr-2"})," ",a]})]})]});return(0,t.jsx)(p.Dialog,{open:e,onOpenChange:e=>{o(e),e||A()},children:(0,t.jsxs)(p.DialogContent,{className:"max-w-3xl rounded-2xl border-border p-0 overflow-hidden max-h-[85vh] flex flex-col",children:[(0,t.jsx)(p.DialogHeader,{className:"p-6 bg-muted/40 border-b border-border shrink-0",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-primary/10  text-primary",children:(0,t.jsx)(r.Layers,{size:22})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(p.DialogTitle,{className:"text-lg font-semibold text-foreground",children:"active"===b?"Room Categories":"Archived Room Categories"}),(0,t.jsx)(p.DialogDescription,{className:"text-muted-foreground text-xs mt-1",children:"active"===b?"Room Classification Configuration":"Restore archived room categories"})]})]})}),(0,t.jsxs)("div",{ref:S,className:"p-6 overflow-y-auto flex-1 space-y-6",children:["list"===h&&"active"===b&&(0,t.jsxs)("button",{onClick:()=>f("add"),className:"w-full py-6 border-2 border-dashed border-border rounded-2xl flex items-center justify-center gap-3 text-muted-foreground hover:text-primary hover:border-primary hover:bg-primary/5 transition-all group",children:[(0,t.jsx)(s.Plus,{size:22,className:"group-hover:rotate-90 transition-transform duration-300"}),(0,t.jsx)("span",{className:"font-semibold text-xs",children:"Add Room Category"})]}),"add"===h&&z(e=>{e.preventDefault(),u({...D,baseRate:0,maxOccupancy:0}),A()},"Save Category"),"edit"===h&&z(e=>{e.preventDefault(),y&&m(y,D),A()},"Update Category"),"archived"===b?(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-3",children:[c.filter(e=>"Archived"===e.status||e.archived).map(e=>(0,t.jsxs)("div",{className:"group flex items-center justify-between p-5 rounded-2xl border border-border transition-all bg-card/50 hover:border-primary/20 hover:bg-card",children:[(0,t.jsxs)("div",{className:"flex items-center gap-5",children:[(0,t.jsx)("div",{className:"p-3 bg-primary/10  text-primary",children:(0,t.jsx)(x.DoorOpen,{size:18})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"text-sm font-bold text-foreground",children:[e.name,e.subCategory&&(0,t.jsxs)("span",{className:"text-muted-foreground font-normal ml-1",children:["• ",e.subCategory]})]}),(0,t.jsx)("p",{className:"text-xs font-medium text-muted-foreground",children:e.description||"No description"})]})]}),(0,t.jsx)("div",{className:"flex items-center gap-4",children:(0,t.jsx)(n.Button,{variant:"ghost",size:"icon",onClick:()=>g(e.id),className:"text-primary hover:text-primary hover:bg-primary/10 h-8 w-8",title:"Restore",children:(0,t.jsx)(l.RotateCcw,{size:16})})})]},e.id)),0===c.filter(e=>"Archived"===e.status||e.archived).length&&(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground",children:[(0,t.jsx)(i.Archive,{size:48,className:"mb-4 opacity-20"}),(0,t.jsx)("p",{className:"text-sm font-medium",children:"No archived room categories"})]})]}):(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-3",children:[c.filter(e=>"Archived"!==e.status&&!e.archived).map(e=>(0,t.jsxs)("div",{className:"group flex items-center justify-between p-5 rounded-2xl border border-border transition-all bg-card/50 hover:border-primary/20 hover:bg-card",children:[(0,t.jsxs)("div",{className:"flex items-center gap-5",children:[(0,t.jsx)("div",{className:"p-3 bg-primary/10  text-primary",children:(0,t.jsx)(x.DoorOpen,{size:18})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"text-sm font-bold text-foreground",children:[e.name,e.subCategory&&(0,t.jsxs)("span",{className:"text-muted-foreground font-normal ml-1",children:["• ",e.subCategory]})]}),(0,t.jsx)("p",{className:"text-xs font-medium text-muted-foreground",children:e.description||"No description"})]})]}),(0,t.jsx)("div",{className:"flex items-center gap-4",children:(0,t.jsxs)("div",{className:"flex gap-1.5",children:[(0,t.jsx)("button",{onClick:()=>{R({name:e.name,subCategory:e.subCategory||"",description:e.description}),N(e.id),f("edit"),S.current?.scrollTo({top:0,behavior:"smooth"})},className:"p-2.5 text-muted-foreground hover:text-foreground hover:bg-muted rounded-lg transition-all",children:(0,t.jsx)(w.Edit3,{size:16})}),(0,t.jsx)("button",{onClick:()=>g(e.id),className:"p-2.5 rounded-lg transition-all text-destructive/70 hover:text-destructive hover:bg-destructive/10",children:(0,t.jsx)(i.Archive,{size:16})})]})})]},e.id)),0===c.filter(e=>"Archived"!==e.status&&!e.archived).length&&(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground",children:[(0,t.jsx)(r.Layers,{size:48,className:"mb-4 opacity-20"}),(0,t.jsx)("p",{className:"text-sm font-medium",children:"No active room categories"})]})]})]}),(0,t.jsxs)(p.DialogFooter,{className:"p-6 bg-muted/40 border-t border-border shrink-0 flex justify-between gap-3",children:[(0,t.jsx)(n.Button,{variant:"outline",size:"sm",className:"h-10 text-sm w-[160px] justify-start bg-background",onClick:()=>v("active"===b?"archived":"active"),children:"active"===b?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Archive,{size:14,className:"mr-2"}),"Show Archive (",c.filter(e=>"Archived"===e.status||e.archived).length,")"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.RotateCcw,{size:14,className:"mr-2"}),"Show Active (",c.filter(e=>"Archived"!==e.status&&!e.archived).length,")"]})}),(0,t.jsx)(n.Button,{onClick:()=>o(!1),className:"h-10 text-sm px-4 bg-primary text-primary-foreground shadow-lg hover:bg-primary/90",children:"Done"})]})]})})}var R=e.i(71827);function S(){let{data:e=[]}=(0,R.useRooms)(),{data:r=[]}=(0,R.useRoomCategories)(),s=(0,R.useAddRoom)(),o=(0,R.useUpdateRoom)(),i=(0,R.useArchiveRoom)(),l=(0,R.useAddRoomCategory)(),n=(0,R.useUpdateRoomCategory)(),d=(0,R.useArchiveRoomCategory)(),[c,u]=(0,a.useState)(!1),[m,x]=(0,a.useState)(!1),[g,h]=(0,a.useState)(null),p=async e=>{g?await o.mutateAsync(e):await s.mutateAsync(e),u(!1),h(null)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v,{rooms:e,roomCategories:r,onCreateRoom:()=>{h(null),u(!0)},onManageCategories:()=>x(!0),onRoomClick:e=>{h(e),u(!0)},onArchiveRoom:async t=>{let a=e.find(e=>e.id===t);a&&await i.mutateAsync(a)}}),(0,t.jsx)(N,{open:c,onOpenChange:e=>{u(e),e||h(null)},roomCategories:r,onSave:p,initialData:g,defaultEditing:!0}),(0,t.jsx)(D,{open:m,onOpenChange:x,roomCategories:r,onAddCategory:async e=>await l.mutateAsync({...e,status:"Active",maxOccupancy:e.maxOccupancy??0}),onUpdateCategory:async(e,t)=>await n.mutateAsync({...t,id:e}),onArchiveCategory:async e=>{let t=r.find(t=>t.id===e);t&&await d.mutateAsync(t)}})]})}e.s(["default",()=>S],49870)}]);